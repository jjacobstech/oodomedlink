import{d as b,r as n,m as h,g as i,e as y,b as _,p as v,w,f as t,n as p,q as k,v as C,i as D,o as d,F as m,h as N,t as o,y as A}from"./app-Ji7o7nMj.js";import{_ as L}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-tvIg3WMm.js";import"./index-DmzfpGfi.js";import"./x-DaoxGN1F.js";import"./index-oC-JvPDr.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-BgReUAX0.js";import"./Wind-LiKkUfSx-CajI83YB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex w-full gap-1 h-full overflow-y-hidden bg-primaryLight"},F={class:"overflow-y-scroll w-full p-6"},M={class:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},$={class:"flex gap-2"},V={class:"relative"},B={class:"overflow-x-auto rounded-xl bg-white shadow-md"},E={class:"w-full text-sm"},S={class:"divide-y divide-gray-200"},j={class:"px-4 py-3 font-medium text-gray-800"},q={class:"px-4 py-3 text-gray-700"},R={class:"px-4 py-3 text-gray-700"},T={class:"px-4 py-3 text-gray-700"},U={class:"px-4 py-3 text-gray-700"},z={class:"px-4 py-3 text-gray-700"},G={class:"px-4 py-3 text-center text-gray-700"},Q={class:"px-4 py-3 text-gray-600"},H={class:"px-4 py-3"},I=["onClick"],J={key:0},at=b({__name:"Patients",props:{patients:{}},setup(f){const x=f;console.log(x.patients);const l=n("all"),r=n("");n(null),n(!1);const u=h(()=>{let a=x.patients;if(l.value!=="all"&&(a=a?.filter(e=>e.gender===l.value)),r.value){const e=r.value.toLowerCase();a=a?.filter(s=>s.full_name.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.phone_no.toLowerCase().includes(e))}return a}),c=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",g=a=>{A.visit(`/clinic/patients/${a.id}/results`)};return(a,e)=>(d(),i(m,null,[y(_(v),{title:"Manage Patients"}),y(L,null,{default:w(()=>[t("div",P,[t("div",F,[e[7]||(e[7]=t("div",{class:"flex justify-between"},[t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-800"}," Patients Management "),t("p",{class:"text-gray-600"}," View and manage all registered patients and their test results ")]),t("div",null,[t("button",{class:"btn rounded-md bg-primaryDark px-10 py-7 text-2xl text-white transition-all duration-150 hover:-translate-y-1"}," Add Patient ")])],-1)),t("div",M,[t("div",$,[t("button",{onClick:e[0]||(e[0]=s=>l.value="all"),class:p([l.value==="all"?"bg-primaryDark text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," All ",2),t("button",{onClick:e[1]||(e[1]=s=>l.value="Male"),class:p([l.value==="Male"?"bg-primaryDark text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Male ",2),t("button",{onClick:e[2]||(e[2]=s=>l.value="Female"),class:p([l.value==="Female"?"bg-primaryDark text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Female ",2)]),t("div",V,[k(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>r.value=s),type:"text",placeholder:"Search by name, email or phone...",class:"w-full rounded-lg border border-gray-300 px-4 py-2 pl-10 focus:border-transparent focus:ring-2 focus:ring-primaryDark md:w-80"},null,512),[[C,r.value]]),e[4]||(e[4]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 transform text-gray-400"},"ðŸ”",-1))])]),t("div",B,[t("table",E,[e[6]||(e[6]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Name "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Email "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Phone "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Gender "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Date of Birth "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Address "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Total Results "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Last Result "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Actions ")])],-1)),t("tbody",S,[(d(!0),i(m,null,N(u.value,s=>(d(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",j,o(s.full_name),1),t("td",q,o(s.email),1),t("td",R,o(s.phone_no??"N/A"),1),t("td",T,o(s.gender??"N/A"),1),t("td",U,o(s.date_of_birth?c(s.date_of_birth):"N/A"),1),t("td",z,o(s.address??"N/A"),1),t("td",G,o(s.results_count??"N/A"),1),t("td",Q,o(c(s.latest_result[0].uploaded_at)??"N/A"),1),t("td",H,[t("button",{onClick:K=>g(s),class:"rounded bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700 transition hover:bg-blue-200"}," Edit ",8,I)])]))),128)),u.value?.length===0?(d(),i("tr",J,[...e[5]||(e[5]=[t("td",{colspan:"8",class:"px-4 py-8 text-center text-gray-500"}," No patients found. ",-1)])])):D("",!0)])])])])])]),_:1})],64))}});export{at as default};
