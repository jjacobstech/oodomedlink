import{d as k,a as h,r as b,k as _,g as d,e as f,b as r,m as D,w as C,f as s,n as u,o as i,t as a,x as U,s as V,q as l,v as n,F as P}from"./app-CvZmQtYV.js";import{_ as S}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-CeC_xOJe.js";import{u as F}from"./index-DsZuWAX-.js";import"./index-DLi45a8h.js";import"./x-jE1KOQkN.js";import"./index-BYByKuFa.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-Bz9oy8Bh.js";import"./Wind-LiKkUfSx-2Kv7NmTm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"min-h-screen w-full bg-primaryLight"},j={class:"mx-auto max-w-7xl p-4 sm:p-6 lg:p-8"},A={class:"grid gap-6 lg:grid-cols-3 lg:gap-8"},B={class:"rounded-2xl bg-white p-6 shadow-md lg:sticky lg:top-6 lg:self-start"},M={class:"flex flex-col items-center text-center"},E={class:"relative mb-4"},q=["src"],z={key:0,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full"},L={class:"text-lg sm:text-xl font-semibold text-gray-800 break-words max-w-full"},R={class:"text-xs sm:text-sm text-gray-500 break-all max-w-full mt-1"},T={class:"mt-4 w-full"},$={class:"bg-primaryDark cursor-pointer rounded-lg px-4 py-2.5 text-sm sm:text-base font-semibold text-white transition-all duration-150 hover:-translate-y-1 hover:shadow-lg inline-block w-full"},I={class:"rounded-2xl bg-white p-4 sm:p-6 shadow-md lg:col-span-2"},H={class:"grid gap-4 sm:gap-5 md:grid-cols-2"},O={class:"md:col-span-2 lg:col-span-1"},W={key:0,class:"text-red-500 text-xs mt-1"},G={class:"md:col-span-2 lg:col-span-1"},J={key:0,class:"text-red-500 text-xs mt-1"},K={class:"space-y-4"},Q={key:0,class:"text-red-500 text-xs mt-1"},X={class:"grid gap-4 sm:gap-5 sm:grid-cols-2"},Y={class:"flex items-center justify-between mb-4 pb-2 border-b"},Z={key:0,class:"space-y-4"},ss={key:0,class:"text-red-500 text-xs mt-1"},ts={class:"grid gap-4 sm:gap-5 sm:grid-cols-2"},es={key:0,class:"text-red-500 text-xs mt-1"},rs={class:"pt-4 flex flex-col sm:flex-row gap-3 sm:justify-end"},os=["disabled"],gs=k({__name:"Settings",props:{user:{}},setup(c){const m=c,{toast:y}=F(),e=h({name:m.user.name,email:m.user.email,avatar:null,current_password:"",password:"",password_confirmation:"",phone_no:m.user.phone_no||"",address:m.user.address||"",state:m.user.state||"",country:m.user.country||""}),g=b(m.user.avatar||"/assets/doctor.jpeg"),p=b(!1),w=x=>{const t=x.target;if(t.files&&t.files[0]){const o=t.files[0];if(o.size>2*1024*1024){alert("File size must be less than 2MB");return}if(!o.type.startsWith("image/")){alert("Please select an image file");return}e.avatar=o,g.value=URL.createObjectURL(o)}},v=()=>{e.post(route("user.profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{e.reset("current_password","password","password_confirmation"),p.value=!1,y({title:"Profile Updated",description:"Profile updated successfully",variant:"default",open:!0,class:"text-primaryDark bg-white shadow-lg bottom-96"})},onError:x=>{}})};return _(()=>e.current_password||e.password||e.password_confirmation),(x,t)=>(i(),d(P,null,[f(r(D),{title:"Settings"}),f(S,null,{default:C(()=>[s("div",N,[s("div",j,[t[27]||(t[27]=s("div",{class:"mb-6 sm:mb-8"},[s("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-800"}," Account Settings "),s("p",{class:"text-sm sm:text-base text-gray-600 mt-1"}," Manage your personal and clinic account details ")],-1)),s("div",A,[s("div",B,[s("div",M,[s("div",E,[s("img",{src:g.value,alt:"Profile Avatar",class:"h-24 w-24 sm:h-28 sm:w-28 rounded-full object-cover border-4 border-gray-100 shadow-lg"},null,8,q),r(e).processing?(i(),d("div",z,[...t[11]||(t[11]=[s("span",{class:"text-white text-xs"},"Uploading...",-1)])])):u("",!0)]),s("h2",L,a(r(e).name),1),s("p",R,a(r(e).email),1),s("div",T,[s("label",$,[t[12]||(t[12]=U(" Change Avatar ",-1)),s("input",{type:"file",class:"hidden",accept:"image/*",onChange:w},null,32)]),t[13]||(t[13]=s("p",{class:"text-xs text-gray-500 mt-2"}," Max size: 2MB ",-1))])])]),s("div",I,[s("form",{onSubmit:V(v,["prevent"]),class:"space-y-5"},[s("div",null,[t[16]||(t[16]=s("h3",{class:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b"}," Basic Information ",-1)),s("div",H,[s("div",O,[t[14]||(t[14]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Full Name * ",-1)),l(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r(e).name=o),type:"text",required:"",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).name]]),r(e).errors.name?(i(),d("p",W,a(r(e).errors.name),1)):u("",!0)]),s("div",G,[t[15]||(t[15]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Email Address * ",-1)),l(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r(e).email=o),type:"email",required:"",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).email]]),r(e).errors.email?(i(),d("p",J,a(r(e).errors.email),1)):u("",!0)])])]),s("div",null,[t[21]||(t[21]=s("h3",{class:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b"}," Contact Information ",-1)),s("div",K,[s("div",null,[t[17]||(t[17]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Phone Number ",-1)),l(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r(e).phone_no=o),type:"tel",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).phone_no]]),r(e).errors.phone_no?(i(),d("p",Q,a(r(e).errors.phone_no),1)):u("",!0)]),s("div",null,[t[18]||(t[18]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Address ",-1)),l(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r(e).address=o),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).address]])]),s("div",X,[s("div",null,[t[19]||(t[19]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," State ",-1)),l(s("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>r(e).state=o),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).state]])]),s("div",null,[t[20]||(t[20]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Country ",-1)),l(s("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>r(e).country=o),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).country]])])])])]),s("div",null,[s("div",Y,[t[22]||(t[22]=s("h3",{class:"text-lg font-semibold text-gray-800"}," Change Password ",-1)),s("button",{type:"button",onClick:t[6]||(t[6]=o=>p.value=!p.value),class:"text-sm text-primaryDark font-medium hover:underline"},a(p.value?"Hide":"Show"),1)]),p.value?(i(),d("div",Z,[s("div",null,[t[23]||(t[23]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Current Password ",-1)),l(s("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>r(e).current_password=o),type:"password",placeholder:"Enter current password",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).current_password]]),r(e).errors.current_password?(i(),d("p",ss,a(r(e).errors.current_password),1)):u("",!0)]),s("div",ts,[s("div",null,[t[24]||(t[24]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," New Password ",-1)),l(s("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>r(e).password=o),type:"password",placeholder:"Enter new password",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).password]]),r(e).errors.password?(i(),d("p",es,a(r(e).errors.password),1)):u("",!0)]),s("div",null,[t[25]||(t[25]=s("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Confirm Password ",-1)),l(s("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>r(e).password_confirmation=o),type:"password",placeholder:"Confirm new password",class:"w-full rounded-lg border border-gray-300 px-3 sm:px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-primaryDark transition text-sm sm:text-base"},null,512),[[n,r(e).password_confirmation]])])]),t[26]||(t[26]=s("p",{class:"text-xs text-gray-500"}," Password must be at least 8 characters long ",-1))])):u("",!0)]),s("div",rs,[s("button",{type:"button",onClick:t[10]||(t[10]=o=>r(e).reset()),class:"w-full sm:w-auto rounded-lg px-6 py-2.5 font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300 shadow transition-all duration-150 text-sm sm:text-base order-2 sm:order-1"}," Reset "),s("button",{type:"submit",disabled:r(e).processing,class:"w-full sm:w-auto bg-primaryDark rounded-lg px-6 py-2.5 font-semibold text-white shadow transition-all duration-150 hover:-translate-y-1 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 text-sm sm:text-base order-1 sm:order-2"},a(r(e).processing?"Saving...":"Save Changes"),9,os)])],32)])])])])]),_:1})],64))}});export{gs as default};
