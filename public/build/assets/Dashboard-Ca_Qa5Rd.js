import{n as A,C as xe,d as B,D as be,E as ye,c as E,o as c,w as C,e as w,b as l,j as R,G as ve,k as he,H as z,g as x,q as k,F,h as U,I as _e,z as T,i as we,r as V,a as ke,p as Ce,f as e,t as g,s as K,v as q,x as j,J as $e,y as I,T as De,K as Ve,m as P}from"./app-CrnLZw8q.js";import{i as Se,g as qe,w as Ee,f as je,_ as Fe,A as Ae}from"./AuthenticatedLayout-D-sYI-5S.js";import{x as Q,T as Be}from"./Wind-LiKkUfSx-BA6rolta.js";import{a as Ie,b as Te,u as ze,_ as Ue}from"./index-Bf2nrSjv.js";import{u as Re,P as O,V as Pe,c as ae,a as W,b as Me,d as Oe,e as Le}from"./x-Bv16Pp3K.js";import{u as Ne}from"./index-Dze4J46E.js";import{r as le,c as re}from"./index-DHOgxrP6.js";import{c as Ke}from"./createLucideIcon-D8Cn5WI2.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-kSaJ25IX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./bot-G0Esqw0V.js";function Y(n){return typeof n=="string"?`'${n}'`:new He().serialize(n)}const He=(function(){class n{#e=new Map;compare(s,o){const i=typeof s,u=typeof o;return i==="string"&&u==="string"?s.localeCompare(o):i==="number"&&u==="number"?s-o:String.prototype.localeCompare.call(this.serialize(s,!0),this.serialize(o,!0))}serialize(s,o){if(s===null)return"null";switch(typeof s){case"string":return o?s:`'${s}'`;case"bigint":return`${s}n`;case"object":return this.$object(s);case"function":return this.$function(s)}return String(s)}serializeObject(s){const o=Object.prototype.toString.call(s);if(o!=="[object Object]")return this.serializeBuiltInType(o.length<10?`unknown:${o}`:o.slice(8,-1),s);const i=s.constructor,u=i===Object||i===void 0?"":i.name;if(u!==""&&globalThis[u]===i)return this.serializeBuiltInType(u,s);if(typeof s.toJSON=="function"){const m=s.toJSON();return u+(m!==null&&typeof m=="object"?this.$object(m):`(${this.serialize(m)})`)}return this.serializeObjectEntries(u,Object.entries(s))}serializeBuiltInType(s,o){const i=this["$"+s];if(i)return i.call(this,o);if(typeof o?.entries=="function")return this.serializeObjectEntries(s,o.entries());throw new Error(`Cannot serialize ${s}`)}serializeObjectEntries(s,o){const i=Array.from(o).sort((m,b)=>this.compare(m[0],b[0]));let u=`${s}{`;for(let m=0;m<i.length;m++){const[b,y]=i[m];u+=`${this.serialize(b,!0)}:${this.serialize(y)}`,m<i.length-1&&(u+=",")}return u+"}"}$object(s){let o=this.#e.get(s);return o===void 0&&(this.#e.set(s,`#${this.#e.size}`),o=this.serializeObject(s),this.#e.set(s,o)),o}$function(s){const o=Function.prototype.toString.call(s);return o.slice(-15)==="[native code] }"?`${s.name||""}()[native]`:`${s.name}(${s.length})${o.replace(/\s*\n\s*/g,"")}`}$Array(s){let o="[";for(let i=0;i<s.length;i++)o+=this.serialize(s[i]),i<s.length-1&&(o+=",");return o+"]"}$Date(s){try{return`Date(${s.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(s){return`ArrayBuffer[${new Uint8Array(s).join(",")}]`}$Set(s){return`Set${this.$Array(Array.from(s).sort((o,i)=>this.compare(o,i)))}`}$Map(s){return this.serializeObjectEntries("Map",s.entries())}}for(const r of["Error","RegExp","URL"])n.prototype["$"+r]=function(s){return`${r}(${s})`};for(const r of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])n.prototype["$"+r]=function(s){return`${r}[${s.join(",")}]`};for(const r of["BigInt64Array","BigUint64Array"])n.prototype["$"+r]=function(s){return`${r}[${s.join("n,")}${s.length>0?"n":""}]`};return n})();function H(n,r){return n===r||Y(n)===Y(r)}function G(n){return n==null}function Z(n,r){return G(n)?!1:Array.isArray(n)?n.some(s=>H(s,r)):H(n,r)}function Ge(n){return A(()=>xe(n)?!!Re(n)?.closest("form"):!0)}var We=B({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const r=n,s=Se(),o=Ne(),i=A(()=>r.tabStopId||o),u=A(()=>s.currentTabStopId.value===i.value),{getItems:m,CollectionItem:b}=Ie();be(()=>{r.focusable&&s.onFocusableItemAdd()}),ye(()=>{r.focusable&&s.onFocusableItemRemove()});function y(f){if(f.key==="Tab"&&f.shiftKey){s.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const _=qe(f,s.orientation.value,s.dir.value);if(_!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||!r.allowShiftKey&&f.shiftKey)return;f.preventDefault();let v=[...m().map($=>$.ref).filter($=>$.dataset.disabled!=="")];if(_==="last")v.reverse();else if(_==="prev"||_==="next"){_==="prev"&&v.reverse();const $=v.indexOf(f.currentTarget);v=s.loop.value?Ee(v,$+1):v.slice($+1)}ve(()=>je(v))}}return(f,_)=>(c(),E(l(b),null,{default:C(()=>[w(l(O),{tabindex:u.value?0:-1,"data-orientation":l(s).orientation.value,"data-active":f.active?"":void 0,"data-disabled":f.focusable?void 0:"",as:f.as,"as-child":f.asChild,onMousedown:_[0]||(_[0]=v=>{f.focusable?l(s).onItemFocus(i.value):v.preventDefault()}),onFocus:_[1]||(_[1]=v=>l(s).onItemFocus(i.value)),onKeydown:y},{default:C(()=>[R(f.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),Je=We,Xe=B({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(n){const r=n,{primitiveElement:s,currentElement:o}=Te(),i=A(()=>r.checked??r.value);return he(i,(u,m)=>{if(!o.value)return;const b=o.value,y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"value").set;if(_&&u!==m){const v=new Event("input",{bubbles:!0}),$=new Event("change",{bubbles:!0});_.call(b,u),b.dispatchEvent(v),b.dispatchEvent($)}}),(u,m)=>(c(),E(Pe,z({ref_key:"primitiveElement",ref:s},{...r,...u.$attrs},{as:"input"}),null,16))}}),ee=Xe,Qe=B({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(n){const r=n,s=A(()=>typeof r.value=="object"&&Array.isArray(r.value)&&r.value.length===0&&r.required),o=A(()=>typeof r.value=="string"||typeof r.value=="number"||typeof r.value=="boolean"||r.value===null||r.value===void 0?[{name:r.name,value:r.value}]:typeof r.value=="object"&&Array.isArray(r.value)?r.value.flatMap((i,u)=>typeof i=="object"?Object.entries(i).map(([m,b])=>({name:`${r.name}[${u}][${m}]`,value:b})):{name:`${r.name}[${u}]`,value:i}):r.value!==null&&typeof r.value=="object"&&!Array.isArray(r.value)?Object.entries(r.value).map(([i,u])=>({name:`${r.name}[${i}]`,value:u})):[]);return(i,u)=>(c(),x(F,null,[k(" We render single input if it's required "),s.value?(c(),E(ee,z({key:i.name},{...r,...i.$attrs},{name:i.name,value:i.value}),null,16,["name","value"])):(c(!0),x(F,{key:1},U(o.value,m=>(c(),E(ee,z({key:m.name},{ref_for:!0},{...r,...i.$attrs},{name:m.name,value:m.value}),null,16,["name","value"]))),128))],2112))}}),Ye=Qe;const[Ze]=ae("CheckboxGroupRoot");function M(n){return n==="indeterminate"}function oe(n){return M(n)?"indeterminate":n?"checked":"unchecked"}const[et,tt]=ae("CheckboxRoot");var st=B({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(n,{emit:r}){const s=n,o=r,{forwardRef:i,currentElement:u}=W(),m=Ze(null),b=Me(s,"modelValue",o,{defaultValue:s.defaultValue,passive:s.modelValue===void 0}),y=A(()=>m?.disabled.value||s.disabled),f=A(()=>G(m?.modelValue.value)?b.value==="indeterminate"?"indeterminate":b.value:Z(m.modelValue.value,s.value));function _(){if(G(m?.modelValue.value))b.value=M(b.value)?!0:!b.value;else{const h=[...m.modelValue.value||[]];if(Z(h,s.value)){const d=h.findIndex(D=>H(D,s.value));h.splice(d,1)}else h.push(s.value);m.modelValue.value=h}}const v=Ge(u),$=A(()=>s.id&&u.value?document.querySelector(`[for="${s.id}"]`)?.innerText:void 0);return tt({disabled:y,state:f}),(h,d)=>(c(),E(we(l(m)?.rovingFocus.value?l(Je):l(O)),z(h.$attrs,{id:h.id,ref:l(i),role:"checkbox","as-child":h.asChild,as:h.as,type:h.as==="button"?"button":void 0,"aria-checked":l(M)(f.value)?"mixed":f.value,"aria-required":h.required,"aria-label":h.$attrs["aria-label"]||$.value,"data-state":l(oe)(f.value),"data-disabled":y.value?"":void 0,disabled:y.value,focusable:l(m)?.rovingFocus.value?!y.value:void 0,onKeydown:_e(T(()=>{},["prevent"]),["enter"]),onClick:_}),{default:C(()=>[R(h.$slots,"default",{modelValue:l(b),state:f.value}),l(v)&&h.name&&!l(m)?(c(),E(l(Ye),{key:0,type:"checkbox",checked:!!f.value,name:h.name,value:h.value,disabled:y.value,required:h.required},null,8,["checked","name","value","disabled","required"])):k("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),at=st,lt=B({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const{forwardRef:r}=W(),s=et();return(o,i)=>(c(),E(l(Oe),{present:o.forceMount||l(M)(l(s).state.value)||l(s).state.value===!0},{default:C(()=>[w(l(O),z({ref:l(r),"data-state":l(oe)(l(s).state.value),"data-disabled":l(s).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:C(()=>[R(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),rt=lt,ot=B({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(n){const r=n;return W(),(s,o)=>(c(),E(l(O),z(r,{onMousedown:o[0]||(o[0]=i=>{!i.defaultPrevented&&i.detail>1&&i.preventDefault()})}),{default:C(()=>[R(s.$slots,"default")]),_:3},16))}}),nt=ot;const it=Ke("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),te=B({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(n,{emit:r}){const s=n,o=r,i=le(s,"class"),u=Le(i,o);return(m,b)=>(c(),E(l(at),z(l(u),{class:l(re)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s.class)}),{default:C(()=>[w(l(rt),{class:"grid place-content-center text-current"},{default:C(()=>[R(m.$slots,"default",{},()=>[w(l(it),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),se=B({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const r=n,s=le(r,"class");return(o,i)=>(c(),E(l(nt),z(l(s),{class:l(re)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r.class)}),{default:C(()=>[R(o.$slots,"default")]),_:3},16,["class"]))}}),dt={class:"flex w-full gap-1 overflow-y-hidden bg-primaryLight"},ut={class:"w-full p-6 mb-16 overflow-y-auto bg-transparent scrollbar-thin scrollbar-thumb-primaryDark scrollbar-track-primaryLight"},pt={class:"p-6 rounded-xl"},ct={class:"flex items-center justify-center mb-4"},mt={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2 lg:grid-cols-4"},ft={class:"flex items-center justify-between"},gt={class:"text-lg capitalize font-bold text-gray-600"},xt={class:"mt-2 text-3xl font-bold text-blue-600"},bt={class:"p-3 bg-blue-100 rounded-full"},yt={class:"text-2xl"},vt={class:"p-4 sm:p-6 lg:p-8 bg-white shadow-md rounded-xl"},ht={class:"mb-4 sm:mb-6"},_t={class:"flex flex-col gap-3 sm:gap-4 mb-4"},wt={class:"flex flex-wrap gap-2 sm:gap-3"},kt=["onClick"],Ct={class:"flex gap-2 sm:gap-3 justify-between items-center w-full"},$t={class:"relative flex-1 sm:flex-initial sm:max-w-md lg:max-w-xl"},Dt={class:"flex gap-2 items-center"},Vt={class:"mb-4 text-sm text-gray-600"},St={class:"overflow-x-auto -mx-4 sm:mx-0 rounded-lg"},qt={class:"inline-block min-w-full align-middle"},Et={class:"overflow-hidden border-b border-gray-200 sm:rounded-lg"},jt={class:"min-w-full divide-y divide-gray-200"},Ft={class:"bg-white divide-y divide-gray-200"},At={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},Bt={class:"text-xs sm:text-sm lg:text-base font-medium text-gray-900"},It={class:"md:hidden text-xs text-gray-500 mt-1"},Tt={class:"hidden md:table-cell px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-xs sm:text-sm lg:text-base text-gray-700"},zt={class:"hidden lg:table-cell px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},Ut={key:0,class:"space-y-1"},Rt={class:"truncate max-w-[150px] xl:max-w-[200px]"},Pt={class:"hidden xl:table-cell px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-xs sm:text-sm text-gray-700"},Mt={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},Ot={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},Lt={class:"flex flex-col sm:flex-row gap-1 sm:gap-2"},Nt=["onClick"],Kt={key:0},Ht={key:0,class:"mt-6 flex items-center justify-between px-4"},Gt=["disabled"],Wt={class:"text-sm text-gray-600"},Jt=["disabled"],Xt={class:"w-full max-w-md sm:max-w-lg lg:max-w-2xl xl:max-w-3xl p-6 sm:p-8 lg:p-10 xl:p-16 bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto"},Qt={class:"flex flex-col items-center justify-center w-full"},Yt={class:"flex flex-col items-center justify-center px-4"},Zt={key:0,class:"mb-2 text-sm sm:text-base lg:text-lg text-gray-500 text-center"},es={key:1,class:"mb-2 text-sm sm:text-base lg:text-lg text-gray-500 text-center"},ts=["disabled"],ss={class:"py-5 flex items-center justify-start gap-2 w-full"},as={key:0,class:"flex items-center gap-1 bg-primaryDark text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-primaryDark/90 disabled:cursor-not-allowed",disabled:"",size:"md"},ls={key:1,class:"flex items-center gap-1 bg-primaryDark text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-primaryDark/90 disabled:cursor-not-allowed",disabled:"",size:"md"},rs={key:2,class:"flex items-center gap-1 bg-primaryDark text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-primaryDark/90 disabled:cursor-not-allowed",disabled:"",size:"md"},os={key:0,class:"space-y-2"},ns={class:"text-sm font-semibold text-gray-700 mb-2"},is={class:"truncate max-w-[200px] md:max-w-[300px] xl:max-w-[400px]"},ds=["onClick"],us={class:"lg:flex space-y-2 items-center justify-between gap-2 sm:gap-3"},ps={key:0,class:"space-y-2 origin-top overflow-hidden"},cs=["required"],ms=["required"],fs={class:"flex flex-col sm:flex-row sm:justify-end gap-4 pt-2 sm:pt-4"},gs={class:"flex gap-2 sm:gap-3 w-full sm:w-auto"},xs=["disabled"],bs={class:"w-full max-w-4xl p-6 bg-white rounded-xl max-h-[90vh] overflow-y-auto"},ys={class:"flex items-center justify-between mb-4"},vs={class:"text-2xl font-bold text-gray-800"},hs={class:"p-4 mb-4 bg-gray-50 rounded-lg space-y-2"},_s={class:"text-sm text-gray-600"},ws={class:"text-sm text-gray-600"},ks={class:"text-sm text-gray-600"},Cs={class:"text-sm text-gray-600"},$s={key:0,class:"space-y-4"},Ds={class:"text-lg font-semibold text-gray-800"},Vs={key:0,class:"text-center w-full"},Ss=["src","alt"],qs={class:"mt-2 text-sm text-gray-600"},Es=["onClick"],js={key:1,class:"text-center w-full"},Fs=["src"],As={class:"mt-2 text-sm text-gray-600"},Bs=["onClick"],Is={key:2,class:"text-center"},Ts={class:"mt-4 text-gray-600 font-medium"},zs=["onClick"],Xs=B({__name:"Dashboard",props:{user:{},results:{},stats:{},filters:{}},setup(n){const r=n,s=V(!1),o=V(r.filters?.filter||"all"),i=V(r.filters?.search||""),u=V(null),{toast:m}=ze(),b=V(!1),y=V(!1),f=V(!1);V(null);const _=V(null),v=V(!1),$=[{name:"total uploads",count:r.stats?.total_uploads||0,icon:"ðŸ“¤",color:"primaryDark"},{name:"pending results",count:r.stats?.pending_results||0,icon:"â³",color:"primaryDark"},{name:"completed results",count:r.stats?.completed_result||0,icon:"âœ…",color:"primaryDark"},{name:"total patients",count:r.stats?.total_patients||0,icon:"ðŸ‘¥",color:"primaryDark"}],h=["all","pending","sent","failed"],d=ke({patient_name:"",patient_email:"",patient_phone_no:"",test_date:"",test_name:"",result_type:"",file:[],notes:"",sendViaEmail:!0,sendViaWhatsapp:!1,scheduleDate:"",scheduleTime:""}),D=V([]),ne=p=>{const t=p.target;if(t.files&&t.files.length>0)for(let a of t.files)D.value.push(a),d.file.push(a);return ue(),1},ie=p=>{D.value.splice(p,1),d.file.splice(p,1)},de=p=>{v.value=!1,p.dataTransfer.files&&p.dataTransfer.files[0]&&(D.value.push(p.dataTransfer.files[0]),d.file.push(p.dataTransfer.files[0]),_.value=null)},ue=async()=>{f.value=!0,b.value=!1,y.value=!1;const p=new FormData;if(p.append("patient_name",d.patient_name),p.append("test_date",d.test_date),p.append("test_name",d.test_name),p.append("result_type",d.result_type),d.file&&d.file.length>0)for(let t=0;t<d.file.length;t++)p.append("file[]",d.file[t]);else return;try{const t=await Ve.post(route("user.result.check"),p);if(console.log("Upload successful:",t.data.error),!t.data.status)return m({title:"Connection Error",description:"Document Check failed , check your connection",type:"foreground",variant:"default",class:"text-primaryDark bg-white shadow-lg",open:!0}),f.value=!1,b.value=!1,y.value=!0,0;if(t.data.status)return f.value=!1,b.value=!0,y.value=!1,1;if(t.data.status)return m({title:"Connection Error",description:"Document Check failed , check your connection",type:"foreground",variant:"default",class:"text-primaryDark bg-white shadow-lg",open:!0}),f.value=!1,b.value=!1,y.value=!0,0;f.value=!1,b.value=!1,y.value=!0;return}catch{}return f.value=!1,y.value=!0,0},pe=()=>{d.post(route("user.result.upload"),{onSuccess:p=>{d.reset(),D.value=[],s.value=!1,m({title:p.props.error?"Error":"Success",description:p.props.error?p.props.error:"Upload successful",type:"foreground",variant:"default",class:"text-primaryDark bg-white shadow-lg",open:!0}),P.get(route("user.dashboard"))},onError:p=>{console.error("Upload error:",p)}})},L=p=>{p!==void 0&&(o.value=p);const t={};o.value&&o.value!=="all"&&(t.filter=o.value),i.value&&i.value.trim()!==""&&(t.search=i.value.trim()),P.get(route("user.dashboard"),t,{onError:a=>{},preserveScroll:!0,preserveState:!0})},ce=()=>{o.value="all",i.value="",P.get(route("user.dashboard"),{},{onError:p=>{},preserveScroll:!0,preserveState:!0})},J=p=>{p&&P.get(p,{},{preserveScroll:!0,preserveState:!0})},N=p=>{window.open(p.file_url,"_blank")},me=p=>{u.value=p},X=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),fe=p=>{switch(p){case"pdf":return"ðŸ“„";case"image":return"ðŸ–¼ï¸";case"csv":return"ðŸ“Š";default:return"ðŸ“"}},ge=p=>{p.key==="Enter"&&L()};return(p,t)=>(c(),x(F,null,[w(l(Ce),{title:"Clinic Dashboard"}),w(Ae,null,{default:C(()=>[w(Ue),e("div",dt,[e("div",ut,[t[52]||(t[52]=e("div",{class:"mb-6"},[e("h1",{class:"text-4xl font-bold text-gray-800"},"Dashboard"),e("p",{class:"text-gray-600 text-xl font-bold"}," Manage patient test results and uploads ")],-1)),e("div",pt,[e("div",ct,[e("button",{onClick:t[0]||(t[0]=a=>s.value=!0),class:"px-6 py-5 text-xl font-bold text-white bg-primaryDark rounded-lg hover:shadow-lg hover:-translate-y-1 transition-all duration-150"}," + Upload New Result ")])]),e("div",mt,[(c(),x(F,null,U($,a=>e("div",{key:a.name,class:"p-6 bg-white shadow-md rounded-xl group hover:shadow-lg transition-all duration-150"},[e("div",ft,[e("div",null,[e("p",gt,g(a.name),1),e("p",xt,g(a.count),1)]),e("div",bt,[e("span",yt,g(a.icon),1)])])])),64))]),e("div",vt,[e("div",ht,[t[24]||(t[24]=e("h2",{class:"mb-3 sm:mb-4 text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800"}," Patient Results ",-1)),e("div",_t,[e("div",wt,[(c(),x(F,null,U(h,a=>e("button",{key:a,onClick:S=>L(a),class:K([o.value===a?"bg-primaryDark text-white":"bg-gray-200 text-gray-700","px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm lg:text-base font-medium rounded-lg transition-all hover:shadow-md"])},g(a.charAt(0).toUpperCase()+a.slice(1)),11,kt)),64))]),e("div",Ct,[e("div",$t,[q(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>i.value=a),type:"text",placeholder:"Search patient or result type...",onKeydown:ge,class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 pl-9 sm:pl-10 text-sm sm:text-base border border-gray-300 rounded-lg placeholder:text-gray-400 placeholder:text-sm sm:placeholder:text-base focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,544),[[j,i.value]]),t[23]||(t[23]=e("span",{class:"absolute text-base sm:text-lg text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}," ðŸ” ",-1))]),e("div",Dt,[e("button",{onClick:t[2]||(t[2]=a=>L()),class:"px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base font-semibold text-white transition-all bg-primaryDark rounded-lg hover:bg-primaryDark/90 hover:shadow-lg whitespace-nowrap"}," Search "),e("button",{onClick:ce,class:"px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base font-semibold text-white transition-all bg-gray-600 rounded-lg hover:bg-gray-700 hover:shadow-lg whitespace-nowrap"}," Clear ")])])])]),e("div",Vt,[e("p",null," Showing "+g(n.results.from||0)+" to "+g(n.results.to||0)+" of "+g(n.results.total)+" results ",1)]),e("div",St,[e("div",qt,[e("div",Et,[e("table",jt,[t[26]||(t[26]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Patient "),e("th",{class:"hidden md:table-cell px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Result Type "),e("th",{class:"hidden lg:table-cell px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," File "),e("th",{class:"hidden xl:table-cell px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Upload Date "),e("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Status "),e("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Actions ")])],-1)),e("tbody",Ft,[(c(!0),x(F,null,U(n.results.data,a=>(c(),x("tr",{key:a.id,class:"transition-colors hover:bg-gray-50"},[e("td",At,[e("div",Bt,g(a.patient.full_name),1),e("div",It,g(a.result_type),1)]),e("td",Tt,g(a.result_type),1),e("td",zt,[a.files&&a.files.length>0?(c(),x("div",Ut,[(c(!0),x(F,null,U(a.files,S=>(c(),x("span",{key:S.id,class:"flex items-center gap-2 text-xs sm:text-sm text-gray-700"},[e("span",null,g(fe(a.file_type)),1),e("span",Rt,g(S.original_file_name),1)]))),128))])):k("",!0)]),e("td",Pt,g(X(a.uploaded_at)),1),e("td",Mt,[e("span",{class:K([{"bg-orange-100 text-orange-800":a.status==="pending","bg-green-100 text-green-800":a.status==="uploaded","bg-red-100 text-red-800":a.status==="failed"},"inline-flex px-2 sm:px-3 py-0.5 sm:py-1 text-xs font-semibold rounded-full whitespace-nowrap capitalize"])},g(a.status),3)]),e("td",Ot,[e("div",Lt,[e("button",{onClick:S=>me(a),class:"px-2 sm:px-3 py-1 sm:py-1.5 text-xs font-medium text-blue-700 transition-all bg-blue-100 rounded hover:bg-blue-200 hover:shadow-sm whitespace-nowrap"}," View ",8,Nt)])])]))),128)),n.results.data.length===0?(c(),x("tr",Kt,[...t[25]||(t[25]=[e("td",{colspan:"6",class:"px-4 py-8 sm:py-12 text-center sm:text-base lg:text-lg text-gray-600"}," No results found ",-1)])])):k("",!0)])])]),n.results.last_page>1?(c(),x("div",Ht,[e("button",{onClick:t[3]||(t[3]=a=>J(n.results.prev_page_url)),disabled:!n.results.prev_page_url,class:"rounded-lg bg-primaryDark px-4 py-2 text-sm font-semibold text-white transition hover:bg-primaryDark/90 disabled:bg-gray-300 disabled:cursor-not-allowed"}," Previous ",8,Gt),e("span",Wt," Page "+g(n.results.current_page)+" of "+g(n.results.last_page),1),e("button",{onClick:t[4]||(t[4]=a=>J(n.results.next_page_url)),disabled:!n.results.next_page_url,class:"rounded-lg bg-primaryDark px-4 py-2 text-sm font-semibold text-white transition hover:bg-primaryDark/90 disabled:bg-gray-300 disabled:cursor-not-allowed"}," Next ",8,Jt)])):k("",!0)])])]),s.value?(c(),x("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 sm:p-6 lg:p-10",onClick:t[20]||(t[20]=T(a=>s.value=!1,["self"]))},[e("div",Xt,[t[46]||(t[46]=e("h3",{class:"mb-4 sm:mb-6 text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800"}," Upload Patient Result ",-1)),e("form",{onSubmit:T(pe,["prevent"]),class:"space-y-4 sm:space-y-5 lg:space-y-6"},[e("div",null,[t[27]||(t[27]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Patient Name ",-1)),q(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>l(d).patient_name=a),type:"text",required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter patient name",autocomplete:"name"},null,512),[[j,l(d).patient_name]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Patient Email ",-1)),q(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>l(d).patient_email=a),type:"email",required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter patient email",autocomplete:"email"},null,512),[[j,l(d).patient_email]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Patient Phone Number ",-1)),q(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>l(d).patient_phone_no=a),type:"tel",required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter patient email",autocomplete:"phone number"},null,512),[[j,l(d).patient_phone_no]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Test Name ",-1)),q(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>l(d).test_name=a),type:"text",required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter test name"},null,512),[[j,l(d).test_name]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Result Type ",-1)),q(e("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>l(d).result_type=a),required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},[...t[31]||(t[31]=[e("option",{value:""},"Select result type",-1),e("option",{value:"Blood Test"},"Blood Test",-1),e("option",{value:"X-Ray"},"X-Ray",-1),e("option",{value:"MRI"},"MRI",-1),e("option",{value:"CT Scan"},"CT Scan",-1),e("option",{value:"Lab Analysis"}," Lab Analysis ",-1),e("option",{value:"Other"},"Other",-1)])],512),[[$e,l(d).result_type]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Test Date ",-1)),q(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>l(d).test_date=a),type:"date",required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",autocomplete:"date"},null,512),[[j,l(d).test_date]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block mb-2 text-sm font-extrabold sm:text-base text-gray-700"}," Notes ",-1)),q(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=a=>l(d).notes=a),rows:"3",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g referrals, prescriptions etc"},"                                ",512),[[j,l(d).notes]])]),e("div",Qt,[e("label",{onDragenter:t[12]||(t[12]=T(a=>v.value=!0,["prevent"])),onDragleave:t[13]||(t[13]=T(a=>v.value=!1,["prevent"])),onDragover:t[14]||(t[14]=T(()=>{},["prevent"])),onDrop:T(de,["prevent"]),class:"flex flex-col items-center justify-center w-full h-48 sm:h-56 lg:h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-primaryLight/30 transition-colors group"},[e("div",Yt,[t[37]||(t[37]=e("svg",{class:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 mb-3 sm:mb-4 text-gray-500 group-hover:text-gray-600 transition-colors","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})],-1)),v.value?k("",!0):(c(),x("p",Zt,[...t[35]||(t[35]=[e("span",{class:"font-semibold"},"Click to upload",-1),I(" or drag and drop ",-1)])])),v.value?(c(),x("p",es,[...t[36]||(t[36]=[e("span",{class:"font-semibold"},"Click to upload",-1),I(" or drag and drop ",-1)])])):k("",!0),t[38]||(t[38]=e("p",{class:"text-xs sm:text-sm text-gray-500 text-center"}," PDF, PNG, JPG (MAX. 10MB per file) ",-1))]),e("input",{id:"dropzone-file",type:"file",disabled:l(d).file.length>0,accept:".pdf,.png,.jpg,.jpeg",onChange:ne,class:"hidden"},null,40,ts)],32),e("div",ss,[f.value?(c(),x("button",as,[w(l(Fe)),t[39]||(t[39]=I(" Checking for errors... ",-1))])):k("",!0),b.value?(c(),x("button",ls,[w(l(Q),{size:"20"}),t[40]||(t[40]=I(" No Errors Found ",-1))])):k("",!0),y.value?(c(),x("button",rs,[w(l(Q),{size:"20"}),t[41]||(t[41]=I(" Errors Found. Please check the results. ",-1))])):k("",!0)])]),D.value.length>0?(c(),x("div",os,[e("p",ns," Selected Files ("+g(D.value.length)+") ",1),(c(!0),x(F,null,U(D.value,(a,S)=>(c(),x("div",{key:S,class:"w-full flex justify-between items-center px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg bg-gray-50"},[e("span",is,g(a.name),1),e("button",{type:"button",onClick:Us=>ie(S),class:"text-red-600 hover:text-red-800 transition-colors"},[w(l(Be),{weight:"Bold",size:24})],8,ds)]))),128))])):k("",!0),e("div",us,[w(se,{class:"hover:bg-accent/50 flex items-start gap-3 rounded-lg border p-3 has-[[aria-checked=true]]:border-primaryDark has-[[aria-checked=true]]:bg-blue-50 dark:has-[[aria-checked=true]]:border-primaryDark dark:has-[[aria-checked=true]]:bg-primaryDark",for:"whatsappToogle"},{default:C(()=>[w(te,{id:"whatsappToogle",modelValue:l(d).sendViaWhatsapp,"onUpdate:modelValue":t[15]||(t[15]=a=>l(d).sendViaWhatsapp=a),"default-value":l(d).sendViaWhatsapp,class:"data-[state=checked]:border-primaryDark data-[state=checked]:bg-primaryDark border-primaryDark data-[state=checked]:text-white dark:data-[state=checked]:border-primaryDark dark:data-[state=checked]:bg-primaryDark"},null,8,["modelValue","default-value"]),t[42]||(t[42]=e("div",{class:"grid gap-1.5 font-normal"},[e("p",{class:"text-md text-gray-600 leading-none font-extrabold"}," Send via Whatsapp "),e("p",{class:"text-muted-foreground font-bold text-md"}," Select this option if you want to send the result through Whatsapp ")],-1))]),_:1}),w(se,{class:"hover:bg-accent/50 flex items-start gap-3 rounded-lg border p-3 has-[[aria-checked=true]]:border-primaryDark has-[[aria-checked=true]]:bg-blue-50 dark:has-[[aria-checked=true]]:border-primaryDark dark:has-[[aria-checked=true]]:bg-primaryDark",for:"emailToogle"},{default:C(()=>[w(te,{id:"emailToogle",modelValue:l(d).sendViaEmail,"onUpdate:modelValue":t[16]||(t[16]=a=>l(d).sendViaEmail=a),"default-value":l(d).sendViaEmail,class:"data-[state=checked]:border-primaryDark data-[state=checked]:bg-primaryDark border-primaryDark data-[state=checked]:text-white dark:data-[state=checked]:border-primaryDark dark:data-[state=checked]:bg-primaryDark"},null,8,["modelValue","default-value"]),t[43]||(t[43]=e("div",{class:"grid gap-1.5 font-normal"},[e("p",{class:"text-md text-gray-600 leading-none font-extrabold"}," Upload and send result immediately "),e("p",{class:"text-muted-foreground font-bold text-md"}," Select this option if you want to send the result immediately after uploading ")],-1))]),_:1})]),w(De,{"enter-active-class":"transition-all duration-700 ease-out","enter-from-class":"opacity-0 max-h-0 scale-y-95","enter-to-class":"opacity-100 max-h-[500px] scale-y-100","leave-active-class":"transition-all duration-500 ease-in","leave-from-class":"opacity-100 max-h-[500px] scale-y-100","leave-to-class":"opacity-0 max-h-0 scale-y-95"},{default:C(()=>[l(d).sendViaEmail?k("",!0):(c(),x("div",ps,[e("div",null,[t[44]||(t[44]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Schedule Date ",-1)),q(e("input",{"onUpdate:modelValue":t[17]||(t[17]=a=>l(d).scheduleDate=a),type:"date",required:!l(d).sendViaEmail,class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:shadow-lg transition-all duration-300 ease-in-out hover:border-blue-400 hover:shadow-md"},null,8,cs),[[j,l(d).scheduleDate]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block mb-2 text-sm sm:text-base font-extrabold text-gray-700"}," Schedule Time ",-1)),q(e("input",{"onUpdate:modelValue":t[18]||(t[18]=a=>l(d).scheduleTime=a),type:"time",required:!l(d).sendViaEmail,class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:shadow-lg transition-all duration-300 ease-in-out hover:border-blue-400 hover:shadow-md"},null,8,ms),[[j,l(d).scheduleTime]])])]))]),_:1}),e("div",fs,[e("div",gs,[e("button",{type:"submit",disabled:!l(d).sendViaEmail&&(!l(d).scheduleDate||!l(d).scheduleTime)||D.value.length===0||l(d).processing||y.value||f.value,class:"flex-1 sm:flex-none sm:min-w-[100px] hover:-translate-y-1 duration-150 px-4 py-2 sm:py-2.5 text-sm sm:text-base font-semibold text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 hover:shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed disabled:hover:transform-none"},g(l(d).processing?"Uploading...":"Upload"),9,xs),e("button",{type:"button",onClick:t[19]||(t[19]=()=>{s.value=!1,l(d).reset(),D.value=[]}),class:"flex-1 sm:flex-none sm:min-w-[100px] px-4 py-2 sm:py-2.5 text-sm sm:text-base font-semibold text-gray-700 transition-all hover:-translate-y-1 duration-150 bg-gray-200 rounded-lg hover:bg-gray-300 hover:shadow-lg"}," Cancel ")])])],32)])])):k("",!0),u.value?(c(),x("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:t[22]||(t[22]=T(a=>u.value=null,["self"]))},[e("div",bs,[e("div",ys,[e("h3",vs,g(u.value.patient.full_name||"Patient")+" - "+g(u.value.result_type),1),e("button",{onClick:t[21]||(t[21]=a=>u.value=null),class:"px-4 py-2 text-gray-700 transition-colors bg-gray-200 rounded-lg hover:bg-gray-300"}," Close ")]),e("div",hs,[e("p",_s,[t[47]||(t[47]=e("strong",null,"Patient:",-1)),I(" "+g(u.value.patient.full_name)+" ("+g(u.value.patient.email)+") ",1)]),e("p",ws,[t[48]||(t[48]=e("strong",null,"Result Type:",-1)),I(" "+g(u.value.result_type),1)]),e("p",ks,[t[49]||(t[49]=e("strong",null,"Uploaded:",-1)),I(" "+g(X(u.value.uploaded_at)),1)]),e("p",Cs,[t[50]||(t[50]=e("strong",null,"Status:",-1)),e("span",{class:K([{"text-orange-700":u.value.status==="pending","text-green-700":u.value.status==="uploaded","text-red-700":u.value.status==="failed"},"font-semibold capitalize"])},g(u.value.status),3)])]),u.value.files&&u.value.files.length>0?(c(),x("div",$s,[e("h4",Ds," Attached Files ("+g(u.value.files.length)+") ",1),(c(!0),x(F,null,U(u.value.files,a=>(c(),x("div",{key:a.id,class:"flex items-center justify-center p-8 bg-gray-100 rounded-lg"},[a.file_type==="image/png"||a.file_type==="image/jpg"||a.file_type==="image/jpeg"?(c(),x("div",Vs,[e("img",{src:a.file_url,alt:a.original_file_name,class:"max-w-full max-h-96 mx-auto rounded-lg shadow"},null,8,Ss),e("p",qs,g(a.original_file_name),1),e("button",{onClick:S=>N(a),class:"px-4 py-2 mt-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Download Image ",8,Es)])):a.file_type==="application/pdf"?(c(),x("div",js,[e("iframe",{src:a.file_url,class:"w-full h-96 rounded-lg"},null,8,Fs),e("p",As,g(a.original_file_name),1),e("button",{onClick:S=>N(a),class:"px-4 py-2 mt-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Download PDF ",8,Bs)])):(c(),x("div",Is,[t[51]||(t[51]=e("span",{class:"text-6xl"},"ðŸ“„",-1)),e("p",Ts,g(a.original_file_name),1),e("button",{onClick:S=>N(a),class:"px-4 py-2 mt-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Download File ",8,zs)]))]))),128))])):k("",!0)])])):k("",!0)])])]),_:1})],64))}});export{Xs as default};
