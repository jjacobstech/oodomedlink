import{d as M,u as N,a as T,r as y,g as i,e as C,b as r,p as z,w as A,f as t,i as h,o as d,F as w,h as D,t as l,n as m,q as f,v as _,s as B,x as q,z as E}from"./app-D-K43tbR.js";import{_ as G}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-Dz6aepOD.js";import"./index-BUFIdT49.js";import"./index-Bk0xNDQr.js";import"./x-CgLIQk6J.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-MmoKN2Xj.js";import"./Wind-LiKkUfSx-Bzvo_0Bc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"flex w-full h-full gap-1 overflow-hidden bg-white"},O={class:"w-full p-6 mb-16 overflow-y-scroll bg-white scrollbar-thin scrollbar-thumb-blue-500 scrollbar-track-gray-100"},X={class:"p-6 rounded-xl"},J={class:"flex items-center justify-center mb-4"},Q={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2 lg:grid-cols-4"},H={class:"flex items-center justify-between"},K={class:"text-lg capitalize font-bold text-gray-600"},W={class:"mt-2 text-3xl font-bold text-blue-600"},Y={class:"p-3 bg-blue-100 rounded-full"},Z={class:"text-2xl"},tt={class:"p-4 sm:p-6 lg:p-8 bg-white shadow-md rounded-xl"},et={class:"mb-4 sm:mb-6"},st={class:"flex flex-col gap-3 sm:gap-4 mb-4"},lt={class:"flex flex-wrap gap-2 sm:gap-3"},ot={class:"relative w-full sm:w-auto sm:max-w-md lg:max-w-lg"},at={class:"overflow-x-auto -mx-4 sm:mx-0 rounded-lg"},nt={class:"inline-block min-w-full align-middle"},rt={class:"overflow-hidden border-b border-gray-200 sm:rounded-lg"},it={class:"min-w-full divide-y divide-gray-200"},dt={class:"bg-white divide-y divide-gray-200"},pt={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},xt={class:"text-xs sm:text-sm lg:text-base font-medium text-gray-900"},mt={class:"md:hidden text-xs text-gray-500 mt-1"},ut={class:"hidden md:table-cell px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-xs sm:text-sm lg:text-base text-gray-700"},gt={class:"hidden lg:table-cell px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},ct={class:"flex items-center gap-2 text-xs sm:text-sm text-gray-700"},bt={class:"truncate max-w-[150px] xl:max-w-[200px]"},yt={class:"hidden xl:table-cell px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-xs sm:text-sm text-gray-700"},ft={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},vt={class:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4"},ht={class:"flex flex-col sm:flex-row gap-1 sm:gap-2"},wt=["onClick"],_t=["onClick"],kt={key:0},Ct={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 sm:p-6 lg:p-10"},Dt={class:"w-full max-w-md sm:max-w-lg lg:max-w-2xl xl:max-w-3xl p-6 sm:p-8 lg:p-10 xl:p-16 bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto"},Ft={class:"flex items-center justify-center w-full"},St={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-48 sm:h-56 lg:h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-primaryLight/30 transition-colors group"},Ut={class:"flex flex-col sm:flex-row sm:justify-between gap-4 pt-2 sm:pt-4"},Pt={class:"flex gap-2 sm:gap-3 w-full sm:w-auto"},Rt=["disabled"],Vt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},$t={class:"w-full max-w-4xl p-6 bg-white rounded-xl max-h-[90vh] overflow-y-auto"},jt={class:"flex items-center justify-between mb-4"},Lt={class:"text-2xl font-bold text-gray-800"},Mt={class:"p-4 mb-4 bg-gray-50 rounded-lg"},Nt={class:"text-sm text-gray-600"},Tt={class:"text-sm text-gray-600"},zt={class:"flex items-center justify-center p-8 bg-gray-100 rounded-lg"},At={key:0,class:"text-center"},Bt={key:1,class:"text-center"},qt=["src"],Et={key:2,class:"text-center"},Yt=M({__name:"Dashboard",props:{results:{},stats:{}},setup(F){const S=N();console.log(S.props),console.log(F);const n=T({patient_name:"",patient_email:"",result_type:"",file:null}),u=y(!1),p=y("all"),g=y(""),a=y(null),U=[{name:"total uploads",count:156,icon:"ðŸ“¤",color:"primaryLight"},{name:"pending reviews",count:12,icon:"â³",color:"primaryDark"},{name:"completed results",count:132,icon:"âœ…",color:"primaryDark"},{name:"total patients",count:89,icon:"ðŸ‘¥",color:"primaryDark"}];let c=[],x=c;const P=o=>{const e=o.target;e.files&&e.files[0]&&(n.file=e.files[0])},R=()=>{n.post("/clinic/results/upload",{onSuccess:()=>{n.reset(),u.value=!1}})},b=o=>{if(p.value=o,p.value!=="all"&&(x=c.filter(e=>e.status===p.value)),p.value==="all"&&(x=c),g.value){const e=g.value.toLowerCase();x=c.filter(s=>s.patient_name.toLowerCase().includes(e)||s.result_type.toLowerCase().includes(e)||s.file_name.toLowerCase().includes(e))}},v=o=>{window.open(o.file_path,"_blank")},V=o=>{a.value=o},k=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=o=>{switch(o){case"pdf":return"ðŸ“„";case"image":return"ðŸ–¼ï¸";case"csv":return"ðŸ“Š";default:return"ðŸ“"}},j=o=>{console.log(o)};return(o,e)=>(d(),i(w,null,[C(r(z),{title:"Clinic Dashboard"}),C(G,null,{default:A(()=>[t("div",I,[t("div",O,[e[29]||(e[29]=t("div",{class:"mb-6"},[t("h1",{class:"text-4xl font-bold text-gray-800"},"Dashboard"),t("p",{class:"text-gray-600 text-xl font-bold"},"Manage patient test results and uploads")],-1)),t("div",X,[t("div",J,[t("button",{onClick:e[0]||(e[0]=s=>u.value=!0),class:"px-6 py-5 text-xl font-bold text-white bg-primaryDark rounded-lg hover:shadow-lg hover:-translate-y-1 transition-all duration-150"}," + Upload New Result ")])]),t("div",Q,[(d(),i(w,null,D(U,s=>t("div",{key:s.name,class:"p-6 bg-white shadow-md rounded-xl group hover:shadow-lg transition-all duration-150"},[t("div",H,[t("div",null,[t("p",K,l(s.name),1),t("p",W,l(s.count),1)]),t("div",Y,[t("span",Z,l(s.icon),1)])])])),64))]),t("div",tt,[t("div",et,[e[15]||(e[15]=t("h2",{class:"mb-3 sm:mb-4 text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800"}," Patient Results ",-1)),t("div",st,[t("div",lt,[t("button",{onClick:e[1]||(e[1]=s=>b("all")),class:m([p.value==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm lg:text-base font-medium rounded-lg transition-all hover:shadow-md"])}," All ",2),t("button",{onClick:e[2]||(e[2]=s=>b("pending")),class:m([p.value==="pending"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700","px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm lg:text-base font-medium rounded-lg transition-all hover:shadow-md"])}," Pending ",2),t("button",{onClick:e[3]||(e[3]=s=>b("completed")),class:m([p.value==="completed"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm lg:text-base font-medium rounded-lg transition-all hover:shadow-md"])}," Completed ",2),t("button",{onClick:e[4]||(e[4]=s=>b("reviewed")),class:m([p.value==="reviewed"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700","px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm lg:text-base font-medium rounded-lg transition-all hover:shadow-md"])}," Reviewed ",2)]),t("div",ot,[f(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>g.value=s),type:"text",placeholder:"Search patient or result type...",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 pl-9 sm:pl-10 text-sm sm:text-base border border-gray-300 rounded-lg placeholder:text-gray-400 placeholder:text-sm sm:placeholder:text-base focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[_,g.value]]),e[14]||(e[14]=t("span",{class:"absolute text-base sm:text-lg text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}," ðŸ” ",-1))])])]),t("div",at,[t("div",nt,[t("div",rt,[t("table",it,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Patient "),t("th",{class:"hidden md:table-cell px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Result Type "),t("th",{class:"hidden lg:table-cell px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," File "),t("th",{class:"hidden xl:table-cell px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Upload Date "),t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Status "),t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold tracking-wider text-left text-gray-700 uppercase"}," Actions ")])],-1)),t("tbody",dt,[(d(!0),i(w,null,D(r(x),s=>(d(),i("tr",{key:s.id,class:"transition-colors hover:bg-gray-50"},[t("td",pt,[t("div",xt,l(s.patient_name),1),t("div",mt,l(s.result_type),1)]),t("td",ut,l(s.result_type),1),t("td",gt,[t("span",ct,[t("span",null,l($(s.file_type)),1),t("span",bt,l(s.file_name),1)])]),t("td",yt,l(k(s.upload_date)),1),t("td",ft,[t("span",{class:m([{"bg-orange-100 text-orange-800":s.status==="pending","bg-green-100 text-green-800":s.status==="completed","bg-purple-100 text-purple-800":s.status==="reviewed"},"inline-flex px-2 sm:px-3 py-0.5 sm:py-1 text-xs font-semibold rounded-full whitespace-nowrap"])},l(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)]),t("td",vt,[t("div",ht,[t("button",{onClick:L=>V(s),class:"px-2 sm:px-3 py-1 sm:py-1.5 text-xs font-medium text-blue-700 transition-all bg-blue-100 rounded hover:bg-blue-200 hover:shadow-sm whitespace-nowrap"}," View ",8,wt),t("button",{onClick:L=>v(s),class:"px-2 sm:px-3 py-1 sm:py-1.5 text-xs font-medium text-green-700 transition-all bg-green-100 rounded hover:bg-green-200 hover:shadow-sm whitespace-nowrap"}," Download ",8,_t)])])]))),128)),r(x).length===0?(d(),i("tr",kt,[...e[16]||(e[16]=[t("td",{colspan:"6",class:"px-4 py-8 sm:py-12 text-center text-sm sm:text-base text-gray-500"}," No results found ",-1)])])):h("",!0)])])])])])]),u.value?(d(),i("div",Ct,[t("div",Dt,[e[24]||(e[24]=t("h3",{class:"mb-4 sm:mb-6 text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800"}," Upload Patient Result ",-1)),t("form",{onSubmit:B(R,["prevent"]),class:"space-y-4 sm:space-y-5 lg:space-y-6"},[t("div",null,[e[18]||(e[18]=t("label",{class:"block mb-2 text-sm sm:text-base font-medium text-gray-700"}," Patient Name ",-1)),f(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>r(n).patient_name=s),type:"text",required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter patient name"},null,512),[[_,r(n).patient_name]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block mb-2 text-sm sm:text-base font-medium text-gray-700"}," Patient Email ",-1)),f(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>r(n).patient_email=s),type:"email",required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter patient email"},null,512),[[_,r(n).patient_email]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block mb-2 text-sm sm:text-base font-medium text-gray-700"}," Result Type ",-1)),f(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>r(n).result_type=s),required:"",class:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},[...e[20]||(e[20]=[t("option",{value:""},"Select result type",-1),t("option",{value:"Blood Test"},"Blood Test",-1),t("option",{value:"X-Ray"},"X-Ray",-1),t("option",{value:"MRI"},"MRI",-1),t("option",{value:"CT Scan"},"CT Scan",-1),t("option",{value:"Lab Analysis"},"Lab Analysis",-1),t("option",{value:"Other"},"Other",-1)])],512),[[q,r(n).result_type]])]),t("div",Ft,[t("label",St,[e[22]||(e[22]=t("div",{class:"flex flex-col items-center justify-center px-4"},[t("svg",{class:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 mb-3 sm:mb-4 text-gray-500 group-hover:text-gray-600 transition-colors","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})]),t("p",{class:"mb-2 text-sm sm:text-base lg:text-lg text-gray-500 text-center"},[t("span",{class:"font-semibold"},"Click to upload"),E(" or drag and drop ")]),t("p",{class:"text-xs sm:text-sm text-gray-500 text-center"}," SVG, PNG, JPG or GIF (MAX. 800x400px) ")],-1)),t("input",{id:"dropzone-file",type:"file",onDragenter:P,onDrop:e[9]||(e[9]=s=>console.log("drop")),onChange:j,class:"hidden"},null,32)])]),t("div",Ut,[e[23]||(e[23]=t("div",{class:"flex items-center gap-2 sm:gap-3"},[t("input",{type:"checkbox",class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 transition-all flex-shrink-0"}),t("span",{class:"text-xs sm:text-sm lg:text-base text-gray-700"}," Upload and send result immediately ")],-1)),t("div",Pt,[t("button",{type:"submit",disabled:r(n).processing,class:"flex-1 sm:flex-none sm:min-w-[100px] hover:-translate-y-1 duration-150 px-4 py-2 sm:py-2.5 text-sm sm:text-base font-semibold text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 hover:shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed disabled:hover:transform-none"},l(r(n).processing?"Uploading...":"Upload"),9,Rt),t("button",{type:"button",onClick:e[10]||(e[10]=s=>u.value=!1),class:"flex-1 sm:flex-none sm:min-w-[100px] px-4 py-2 sm:py-2.5 text-sm sm:text-base font-semibold text-gray-700 transition-all hover:-translate-y-1 duration-150 bg-gray-200 rounded-lg hover:bg-gray-300 hover:shadow-lg"}," Cancel ")])])],32)])])):h("",!0),a.value?(d(),i("div",Vt,[t("div",$t,[t("div",jt,[t("h3",Lt,l(a.value.patient_name)+" - "+l(a.value.result_type),1),t("button",{onClick:e[11]||(e[11]=s=>a.value=null),class:"px-4 py-2 text-gray-700 transition-colors bg-gray-200 rounded-lg hover:bg-gray-300"}," Close ")]),t("div",Mt,[t("p",Nt,"File: "+l(a.value.file_name),1),t("p",Tt,"Uploaded: "+l(k(a.value.upload_date)),1)]),t("div",zt,[a.value.file_type==="pdf"?(d(),i("div",At,[e[25]||(e[25]=t("span",{class:"text-6xl"},"ðŸ“„",-1)),e[26]||(e[26]=t("p",{class:"mt-4 text-gray-600"},"PDF Preview",-1)),t("button",{onClick:e[12]||(e[12]=s=>v(a.value)),class:"px-4 py-2 mt-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Open PDF ")])):a.value.file_type==="image"?(d(),i("div",Bt,[t("img",{src:a.value.file_path,alt:"Result preview",class:"max-w-full max-h-96"},null,8,qt)])):(d(),i("div",Et,[e[27]||(e[27]=t("span",{class:"text-6xl"},"ðŸ“Š",-1)),e[28]||(e[28]=t("p",{class:"mt-4 text-gray-600"},"CSV Data File",-1)),t("button",{onClick:e[13]||(e[13]=s=>v(a.value)),class:"px-4 py-2 mt-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Download CSV ")]))])])])):h("",!0)])])]),_:1})],64))}});export{Yt as default};
