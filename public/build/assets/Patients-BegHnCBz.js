import{d as G,u as L,k as K,r as w,a as F,g as d,e as U,b as l,p as Q,w as R,f as e,q as x,s as D,v as m,x as p,t as a,o as i,F as C,h as M,y as P,z as h,C as $,m as k}from"./app-DislhaNr.js";import{_ as H}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BlpSCTYB.js";import{u as I}from"./index-Beb4iY5v.js";import"./index-63S5VNmJ.js";import"./x-Cpca84GG.js";import"./index-ebDHFZeW.js";import"./createLucideIcon-BXlK243h.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-DEjWKeky.js";import"./Wind-LiKkUfSx-tlhi3DIe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"flex w-full gap-1 h-full overflow-y-hidden bg-primaryLight"},W={class:"overflow-y-scroll w-full p-4 sm:p-6"},X={class:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-6"},Y={class:"w-full sm:w-auto"},Z={class:"mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},ee={class:"flex flex-wrap gap-2"},te={class:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto"},se={class:"relative flex-1 lg:flex-initial"},le={class:"flex gap-2"},re={class:"mb-4 text-xs sm:text-sm text-gray-600"},oe={class:"lg:hidden space-y-4"},ae={class:"flex justify-between items-start"},ne={class:"flex-1 min-w-0"},de={class:"font-semibold text-gray-800 truncate"},ie={class:"text-sm text-gray-600 truncate"},ue={class:"inline-flex items-center justify-center rounded-full bg-blue-100 px-2.5 py-1 text-xs font-semibold text-blue-800 ml-2"},me={class:"grid grid-cols-2 gap-2 text-xs text-gray-600"},xe={class:"flex gap-2 pt-2"},pe=["onClick"],be=["onClick"],ge={key:0,class:"bg-white rounded-xl shadow-md p-8 text-center text-gray-500"},fe={class:"hidden lg:block overflow-x-auto rounded-xl bg-white shadow-md"},ye={class:"w-full text-sm"},ce={class:"divide-y divide-gray-200"},ve={class:"px-4 py-3 font-medium text-gray-800"},we={class:"px-4 py-3 text-gray-700"},he={class:"px-4 py-3 text-gray-700"},ke={class:"px-4 py-3 text-gray-700"},_e={class:"px-4 py-3 text-gray-700"},De={class:"px-4 py-3 text-center text-gray-700"},Ce={class:"inline-flex items-center justify-center rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-800"},Pe={class:"px-4 py-3"},Se={class:"flex gap-2"},Ve=["onClick"],Ne=["onClick"],Ee={key:0},Ae={key:0,class:"mt-6 flex flex-col sm:flex-row items-center justify-between gap-4"},Fe=["disabled"],Ue={class:"text-sm text-gray-600"},Me=["disabled"],$e={class:"w-full max-w-2xl bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto"},qe={key:0,class:"text-red-500 text-xs mt-1"},je={key:0,class:"text-red-500 text-xs mt-1"},Be={key:0,class:"text-red-500 text-xs mt-1"},Oe={class:"flex flex-col sm:flex-row gap-3 pt-4"},Te=["disabled"],ze={class:"w-full max-w-2xl bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto"},Ge={class:"sticky top-0 bg-white border-b p-4 sm:p-6"},Le={class:"text-xl sm:text-2xl font-bold text-gray-800"},Ke={key:0,class:"text-red-500 text-xs mt-1"},Qe={key:0,class:"text-red-500 text-xs mt-1"},Re={key:0,class:"text-red-500 text-xs mt-1"},He={class:"flex flex-col sm:flex-row gap-3 pt-4"},Ie=["disabled"],ot=G({__name:"Patients",props:{patients:{},filters:{}},setup(u){const S=u,q=L(),{toast:j}=I();K(()=>q.props.success,o=>{o&&j({title:"Success",description:o,variant:"default",class:"text-primaryDark bg-white shadow-lg",duration:5e3})},{immediate:!0});const b=w(S.filters?.gender||"all"),f=w(S.filters?.search||""),y=w(!1),c=w(!1),g=w(null),n=F({full_name:"",email:"",phone_no:"",gender:"",date_of_birth:"",address:""}),r=F({full_name:"",email:"",phone_no:"",gender:"",date_of_birth:"",address:""}),v=o=>{o!==void 0&&(b.value=o);const t={};b.value&&b.value!=="all"&&(t.gender=b.value),f.value&&f.value.trim()!==""&&(t.search=f.value.trim()),k.get(route("user.patients"),t,{preserveScroll:!0,preserveState:!0})},B=()=>{b.value="all",f.value="",k.get(route("user.patients"),{},{preserveScroll:!0,preserveState:!0})},V=o=>{o&&k.get(o,{},{preserveScroll:!0,preserveState:!0})},N=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",E=o=>{k.visit(route("user.patients.show",o.id))},A=o=>{g.value=o,r.full_name=o.full_name,r.email=o.email,r.phone_no=o.phone_no,r.gender=o.gender,r.date_of_birth=o.date_of_birth||"",r.address=o.address||"",c.value=!0},O=()=>{n.post(route("user.patients.store"),{onSuccess:()=>{n.reset(),y.value=!1},onError:o=>{console.error("Add patient error:",o)}})},T=()=>{g.value&&r.put(route("user.patients.update",g.value.id),{onSuccess:()=>{r.reset(),c.value=!1,g.value=null},onError:o=>{}})},z=o=>{o.key==="Enter"&&v()};return(o,t)=>(i(),d(C,null,[U(l(Q),{title:"Manage Patients"}),U(H,null,{default:R(()=>[e("div",J,[e("div",W,[e("div",X,[t[24]||(t[24]=e("div",{class:"flex-1"},[e("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-800"}," Patients Management "),e("p",{class:"text-sm sm:text-base text-gray-600 mt-1"}," View and manage all registered patients and their test results ")],-1)),e("div",Y,[e("button",{onClick:t[0]||(t[0]=s=>y.value=!0),class:"w-full sm:w-auto rounded-md bg-primaryDark px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base font-semibold text-white transition-all duration-150 hover:-translate-y-1 hover:shadow-lg"}," + Add Patient ")])]),e("div",Z,[e("div",ee,[e("button",{onClick:t[1]||(t[1]=s=>v("all")),class:D([b.value==="all"?"bg-primaryDark text-white":"bg-gray-200 text-gray-700","rounded-lg px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-all hover:shadow-md"])}," All ",2),e("button",{onClick:t[2]||(t[2]=s=>v("Male")),class:D([b.value==="Male"?"bg-primaryDark text-white":"bg-gray-200 text-gray-700","rounded-lg px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-all hover:shadow-md"])}," Male ",2),e("button",{onClick:t[3]||(t[3]=s=>v("Female")),class:D([b.value==="Female"?"bg-primaryDark text-white":"bg-gray-200 text-gray-700","rounded-lg px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-all hover:shadow-md"])}," Female ",2)]),e("div",te,[e("div",se,[m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>f.value=s),type:"text",placeholder:"Search by name, email or phone...",onKeydown:z,class:"w-full rounded-lg border border-gray-300 px-4 py-2 pl-10 text-sm focus:border-transparent focus:ring-2 focus:ring-primaryDark lg:w-80"},null,544),[[p,f.value]]),t[25]||(t[25]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 transform text-gray-400"},"ðŸ”",-1))]),e("div",le,[e("button",{onClick:t[5]||(t[5]=s=>v()),class:"flex-1 sm:flex-initial px-4 py-2 text-sm font-semibold text-white bg-primaryDark rounded-lg hover:bg-primaryDark/90 hover:shadow-lg whitespace-nowrap transition"}," Search "),e("button",{onClick:B,class:"flex-1 sm:flex-initial px-4 py-2 text-sm font-semibold text-white bg-gray-600 rounded-lg hover:bg-gray-700 hover:shadow-lg whitespace-nowrap transition"}," Clear ")])])]),e("div",re,[e("p",null," Showing "+a(u.patients.from||0)+" to "+a(u.patients.to||0)+" of "+a(u.patients.total)+" patients ",1)]),e("div",oe,[(i(!0),d(C,null,M(u.patients.data,s=>(i(),d("div",{key:s.id,class:"bg-white rounded-xl shadow-md p-4 space-y-3"},[e("div",ae,[e("div",ne,[e("h3",de,a(s.full_name),1),e("p",ie,a(s.email),1)]),e("span",ue,a(s.results_count),1)]),e("div",me,[e("div",null,[t[26]||(t[26]=e("span",{class:"font-medium"},"Phone:",-1)),P(" "+a(s.phone_no||"N/A"),1)]),e("div",null,[t[27]||(t[27]=e("span",{class:"font-medium"},"Gender:",-1)),P(" "+a(s.gender||"N/A"),1)]),e("div",null,[t[28]||(t[28]=e("span",{class:"font-medium"},"DOB:",-1)),P(" "+a(N(s.date_of_birth)),1)])]),e("div",xe,[e("button",{onClick:_=>E(s),class:"flex-1 rounded-lg bg-blue-100 px-3 py-2 text-sm font-medium text-blue-700 transition hover:bg-blue-200"}," View ",8,pe),e("button",{onClick:_=>A(s),class:"flex-1 rounded-lg bg-green-100 px-3 py-2 text-sm font-medium text-green-700 transition hover:bg-green-200"}," Edit ",8,be)])]))),128)),u.patients.data.length===0?(i(),d("div",ge,[...t[29]||(t[29]=[e("div",{class:"text-4xl mb-2"},"ðŸ‘¥",-1),e("p",null,"No patients found.",-1)])])):x("",!0)]),e("div",fe,[e("table",ye,[t[31]||(t[31]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Name "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Email "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Phone "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Gender "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Date of Birth "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Total Results "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Actions ")])],-1)),e("tbody",ce,[(i(!0),d(C,null,M(u.patients.data,s=>(i(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",ve,a(s.full_name),1),e("td",we,a(s.email),1),e("td",he,a(s.phone_no||"N/A"),1),e("td",ke,a(s.gender||"N/A"),1),e("td",_e,a(N(s.date_of_birth)),1),e("td",De,[e("span",Ce,a(s.results_count),1)]),e("td",Pe,[e("div",Se,[e("button",{onClick:_=>E(s),class:"rounded bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700 transition hover:bg-blue-200"}," View ",8,Ve),e("button",{onClick:_=>A(s),class:"rounded bg-green-100 px-3 py-1 text-xs font-medium text-green-700 transition hover:bg-green-200"}," Edit ",8,Ne)])])]))),128)),u.patients.data.length===0?(i(),d("tr",Ee,[...t[30]||(t[30]=[e("td",{colspan:"8",class:"px-4 py-8 text-center text-gray-500"}," No patients found. ",-1)])])):x("",!0)])])]),u.patients.last_page>1?(i(),d("div",Ae,[e("button",{onClick:t[6]||(t[6]=s=>V(u.patients.prev_page_url)),disabled:!u.patients.prev_page_url,class:"w-full sm:w-auto rounded-lg bg-primaryDark px-4 py-2 text-sm font-semibold text-white transition hover:bg-primaryDark/90 disabled:bg-gray-300 disabled:cursor-not-allowed"}," Previous ",8,Fe),e("span",Ue," Page "+a(u.patients.current_page)+" of "+a(u.patients.last_page),1),e("button",{onClick:t[7]||(t[7]=s=>V(u.patients.next_page_url)),disabled:!u.patients.next_page_url,class:"w-full sm:w-auto rounded-lg bg-primaryDark px-4 py-2 text-sm font-semibold text-white transition hover:bg-primaryDark/90 disabled:bg-gray-300 disabled:cursor-not-allowed"}," Next ",8,Me)])):x("",!0),y.value?(i(),d("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:t[15]||(t[15]=h(s=>y.value=!1,["self"]))},[e("div",$e,[t[39]||(t[39]=e("div",{class:"sticky top-0 bg-white border-b p-4 sm:p-6"},[e("h3",{class:"text-xl sm:text-2xl font-bold text-gray-800"}," Add New Patient ")],-1)),e("form",{onSubmit:h(O,["prevent"]),class:"p-4 sm:p-6 space-y-4"},[e("div",null,[t[32]||(t[32]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Full Name * ",-1)),m(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l(n).full_name=s),type:"text",required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent",placeholder:"Enter full name"},null,512),[[p,l(n).full_name]]),l(n).errors.full_name?(i(),d("p",qe,a(l(n).errors.full_name),1)):x("",!0)]),e("div",null,[t[33]||(t[33]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Email * ",-1)),m(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l(n).email=s),type:"email",required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent",placeholder:"Enter email address"},null,512),[[p,l(n).email]]),l(n).errors.email?(i(),d("p",je,a(l(n).errors.email),1)):x("",!0)]),e("div",null,[t[34]||(t[34]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Phone Number * ",-1)),m(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l(n).phone_no=s),type:"tel",required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent",placeholder:"Enter phone number"},null,512),[[p,l(n).phone_no]]),l(n).errors.phone_no?(i(),d("p",Be,a(l(n).errors.phone_no),1)):x("",!0)]),e("div",null,[t[36]||(t[36]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Gender * ",-1)),m(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>l(n).gender=s),required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},[...t[35]||(t[35]=[e("option",{value:""},"Select gender",-1),e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1),e("option",{value:"Other"},"Other",-1)])],512),[[$,l(n).gender]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Date of Birth ",-1)),m(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>l(n).date_of_birth=s),type:"date",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},null,512),[[p,l(n).date_of_birth]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Address ",-1)),m(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=s=>l(n).address=s),rows:"3",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent",placeholder:"Enter address"},null,512),[[p,l(n).address]])]),e("div",Oe,[e("button",{type:"submit",disabled:l(n).processing,class:"flex-1 px-4 py-2 text-sm sm:text-base font-semibold text-white bg-primaryDark rounded-lg hover:bg-primaryDark/90 hover:shadow-lg transition disabled:bg-gray-400 disabled:cursor-not-allowed"},a(l(n).processing?"Adding...":"Add Patient"),9,Te),e("button",{type:"button",onClick:t[14]||(t[14]=()=>{y.value=!1,l(n).reset()}),class:"flex-1 px-4 py-2 text-sm sm:text-base font-semibold text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 hover:shadow-lg transition"}," Cancel ")])],32)])])):x("",!0),c.value&&g.value?(i(),d("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:t[23]||(t[23]=h(s=>c.value=!1,["self"]))},[e("div",ze,[e("div",Ge,[e("h3",Le," Edit Patient: "+a(g.value.full_name),1)]),e("form",{onSubmit:h(T,["prevent"]),class:"p-4 sm:p-6 space-y-4"},[e("div",null,[t[40]||(t[40]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Full Name * ",-1)),m(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>l(r).full_name=s),type:"text",required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},null,512),[[p,l(r).full_name]]),l(r).errors.full_name?(i(),d("p",Ke,a(l(r).errors.full_name),1)):x("",!0)]),e("div",null,[t[41]||(t[41]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Email * ",-1)),m(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>l(r).email=s),type:"email",required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},null,512),[[p,l(r).email]]),l(r).errors.email?(i(),d("p",Qe,a(l(r).errors.email),1)):x("",!0)]),e("div",null,[t[42]||(t[42]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Phone Number * ",-1)),m(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>l(r).phone_no=s),type:"tel",required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},null,512),[[p,l(r).phone_no]]),l(r).errors.phone_no?(i(),d("p",Re,a(l(r).errors.phone_no),1)):x("",!0)]),e("div",null,[t[44]||(t[44]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Gender * ",-1)),m(e("select",{"onUpdate:modelValue":t[19]||(t[19]=s=>l(r).gender=s),required:"",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},[...t[43]||(t[43]=[e("option",{value:""},"Select gender",-1),e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1),e("option",{value:"Other"},"Other",-1)])],512),[[$,l(r).gender]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Date of Birth ",-1)),m(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>l(r).date_of_birth=s),type:"date",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},null,512),[[p,l(r).date_of_birth]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block mb-2 text-sm font-bold text-gray-700"}," Address ",-1)),m(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=s=>l(r).address=s),rows:"3",class:"w-full px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-primaryDark focus:border-transparent"},null,512),[[p,l(r).address]])]),e("div",He,[e("button",{type:"submit",disabled:l(r).processing,class:"flex-1 px-4 py-2 text-sm sm:text-base font-semibold text-white bg-primaryDark rounded-lg hover:bg-primaryDark/90 hover:shadow-lg transition disabled:bg-gray-400 disabled:cursor-not-allowed"},a(l(r).processing?"Updating...":"Update Patient"),9,Ie),e("button",{type:"button",onClick:t[22]||(t[22]=()=>{c.value=!1,l(r).reset(),g.value=null}),class:"flex-1 px-4 py-2 text-sm sm:text-base font-semibold text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 hover:shadow-lg transition"}," Cancel ")])],32)])])):x("",!0)])])]),_:1})],64))}});export{ot as default};
