import{d as k,r as p,m as C,g as r,e as y,b as j,p as S,w as E,f as t,i as x,n as d,q as $,v as L,o as i,F as b,h as T,t as a,z as g}from"./app-p2iobxpo.js";import{_ as R}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-D1BelmHv.js";import"./index-f_RTGSkI.js";import"./x-CPPi54FQ.js";import"./index-DQRDA4b2.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-DsY41qYV.js";import"./Wind-LiKkUfSx-BowAPz5r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"h-full w-full bg-gray-100"},D={class:"overflow-y-scroll p-6"},N={class:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},z={class:"flex gap-2"},A={class:"relative"},B={class:"overflow-x-auto rounded-xl bg-white shadow-md"},F={class:"w-full text-sm"},M={class:"divide-y divide-gray-200"},P={class:"px-4 py-3 font-medium text-gray-800"},J={class:"px-4 py-3 text-gray-700"},q={class:"max-w-[200px] truncate px-4 py-3 text-gray-700"},U={class:"px-4 py-3 text-gray-600"},X={class:"px-4 py-3"},Y={class:"px-4 py-3"},I={class:"flex gap-2"},Q=["onClick"],W=["onClick"],G={key:0},H={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},K={class:"w-full max-w-2xl rounded-xl bg-white p-6"},O={class:"mb-4 flex items-center justify-between"},Z={class:"text-2xl font-bold text-gray-800"},tt={class:"mb-4 text-sm text-gray-600"},et={class:"rounded-lg bg-gray-50 p-4 text-gray-700"},ut=k({__name:"Emails",props:{emails:{}},setup(f){const v=f,l=p("all"),u=p(""),n=p(null),_=v.emails||[{id:1,patient_name:"John Doe",email:"john.doe@example.com",subject:"Blood Test Results",sent_at:"2025-11-05T09:30:00",status:"sent",message_preview:"Your blood test results are now available..."},{id:2,patient_name:"Jane Smith",email:"jane.smith@example.com",subject:"X-Ray Review Pending",sent_at:"2025-11-05T10:15:00",status:"in_progress",message_preview:"Your X-Ray report is currently under review..."},{id:3,patient_name:"Mike Johnson",email:"mike.j@example.com",subject:"Lab Analysis Error",sent_at:"2025-11-04T13:45:00",status:"failed",message_preview:"We encountered an issue sending your lab results..."}],c=C(()=>{let o=_;if(l.value!=="all"&&(o=o.filter(e=>e.status===l.value)),u.value){const e=u.value.toLowerCase();o=o.filter(s=>s.patient_name.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.subject.toLowerCase().includes(e))}return o}),m=o=>new Date(o).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),h=o=>{alert(`Retrying email to ${o.patient_name}...`)};return(o,e)=>(i(),r(b,null,[y(j(S),{title:"Email Management"}),y(R,null,{default:E(()=>[t("div",V,[t("div",D,[e[12]||(e[12]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-800"}," Patient Emails "),t("p",{class:"text-gray-600"}," Monitor and manage all sent emails to patients ")],-1)),t("div",N,[t("div",z,[t("button",{onClick:e[0]||(e[0]=s=>l.value="all"),class:d([l.value==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," All ",2),t("button",{onClick:e[1]||(e[1]=s=>l.value="in_progress"),class:d([l.value==="in_progress"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," In Progress ",2),t("button",{onClick:e[2]||(e[2]=s=>l.value="sent"),class:d([l.value==="sent"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Sent ",2),t("button",{onClick:e[3]||(e[3]=s=>l.value="failed"),class:d([l.value==="failed"?"bg-red-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Failed ",2)]),t("div",A,[$(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>u.value=s),type:"text",placeholder:"Search by patient, email, or subject...",class:"w-full rounded-lg border border-gray-300 px-4 py-2 pl-10 focus:border-transparent focus:ring-2 focus:ring-blue-500 md:w-80"},null,512),[[L,u.value]]),e[6]||(e[6]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 transform text-gray-400"},"ðŸ”",-1))])]),t("div",B,[t("table",F,[e[8]||(e[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Patient "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Email "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Subject "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Sent At "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Status "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-700"}," Actions ")])],-1)),t("tbody",M,[(i(!0),r(b,null,T(c.value,s=>(i(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",P,a(s.patient_name),1),t("td",J,a(s.email),1),t("td",q,a(s.subject),1),t("td",U,a(m(s.sent_at)),1),t("td",X,[t("span",{class:d([{"bg-green-100 text-green-800":s.status==="sent","bg-red-100 text-red-800":s.status==="failed","bg-orange-100 text-orange-800":s.status==="in_progress"},"rounded-full px-3 py-1 text-xs font-semibold capitalize"])},a(s.status.replace("_"," ")),3)]),t("td",Y,[t("div",I,[t("button",{onClick:w=>n.value=s,class:"rounded bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700 transition hover:bg-blue-200"}," View ",8,Q),s.status==="failed"?(i(),r("button",{key:0,onClick:w=>h(s),class:"rounded bg-red-100 px-3 py-1 text-xs font-medium text-red-700 transition hover:bg-red-200"}," Retry ",8,W)):x("",!0)])])]))),128)),c.value.length===0?(i(),r("tr",G,[...e[7]||(e[7]=[t("td",{colspan:"6",class:"px-4 py-8 text-center text-gray-500"}," No emails found. ",-1)])])):x("",!0)])])]),n.value?(i(),r("div",H,[t("div",K,[t("div",O,[t("h3",Z,a(n.value.subject),1),t("button",{onClick:e[5]||(e[5]=s=>n.value=null),class:"rounded-lg bg-gray-200 px-4 py-2 text-gray-700 hover:bg-gray-300"}," Close ")]),t("div",tt,[t("p",null,[e[9]||(e[9]=t("strong",null,"To:",-1)),g(" "+a(n.value.patient_name)+" ("+a(n.value.email)+") ",1)]),t("p",null,[e[10]||(e[10]=t("strong",null,"Sent:",-1)),g(" "+a(m(n.value.sent_at)),1)]),t("p",null,[e[11]||(e[11]=t("strong",null,"Status:",-1)),g(" "+a(n.value.status),1)])]),t("div",et,[t("p",null,a(n.value.message_preview),1)])])])):x("",!0)])])]),_:1})],64))}});export{ut as default};
