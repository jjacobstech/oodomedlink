import{d as L,u as M,a as N,r as f,g as r,e as C,b as i,p as T,w as z,f as t,i as h,o as d,F as w,h as D,t as o,n as c,q as y,v as _,s as A,x as B,z as q}from"./app-Ge-PdnoC.js";import{_ as E}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BOQDQvBp.js";import"./index-COCHgPwx.js";import"./index-RwTM3QwI.js";import"./x-BCdZmX6h.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-CEtU9KGS.js";import"./Wind-LiKkUfSx-C_k8ELpq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"flex w-full h-full gap-1 overflow-hidden bg-white"},I={class:"w-full p-6 mb-16 overflow-y-scroll bg-white scrollbar-thin scrollbar-thumb-blue-500 scrollbar-track-gray-100"},O={class:"p-6 rounded-xl"},X={class:"flex items-center justify-center mb-4"},J={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2 lg:grid-cols-4"},Q={class:"flex items-center justify-between"},H={class:"text-lg capitalize font-bold text-gray-600"},K={class:"mt-2 text-3xl font-bold text-blue-600"},W={class:"p-3 bg-blue-100 rounded-full"},Y={class:"text-2xl"},Z={class:"p-6 bg-white shadow-md rounded-xl"},tt={class:"mb-6"},et={class:"flex flex-col gap-4 mb-4 md:flex-row md:items-center text-xl font-extrabold md:justify-between"},st={class:"flex gap-2"},lt={class:"relative"},ot={class:"overflow-x-auto"},at={class:"w-full"},nt={class:"bg-white divide-y divide-gray-200 text-lg font-extrabold"},rt={class:"px-4 py-4 text-sm font-medium text-gray-900"},it={class:"px-4 py-4 text-sm text-gray-700"},dt={class:"px-4 py-4 text-sm text-gray-700"},ut={class:"flex items-center gap-2"},pt={class:"truncate max-w-[200px]"},ct={class:"px-4 py-4 text-sm text-gray-700"},gt={class:"px-4 py-4 text-sm"},xt={class:"px-4 py-4 text-sm"},bt={class:"flex gap-2"},mt=["onClick"],ft=["onClick"],yt={key:0},vt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black py-10 bg-opacity-50"},ht={class:"w-1/2 p-10 2xl:p-20 bg-white rounded-xl"},wt={class:"flex items-center justify-center w-full"},_t={for:"dropzone-file",class:"flex flex-col items-center justify-center w-full group h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-primaryLight/30"},kt={class:"flex justify-between"},Ct={class:"flex gap-3 w-1/2 pt-4"},Dt=["disabled"],Ft={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},St={class:"w-full max-w-4xl p-6 bg-white rounded-xl max-h-[90vh] overflow-y-auto"},Ut={class:"flex items-center justify-between mb-4"},Pt={class:"text-2xl font-bold text-gray-800"},Rt={class:"p-4 mb-4 bg-gray-50 rounded-lg"},Vt={class:"text-sm text-gray-600"},$t={class:"text-sm text-gray-600"},jt={class:"flex items-center justify-center p-8 bg-gray-100 rounded-lg"},Lt={key:0,class:"text-center"},Mt={key:1,class:"text-center"},Nt=["src"],Tt={key:2,class:"text-center"},Jt=L({__name:"Dashboard",props:{results:{},stats:{}},setup(zt){const F=M();console.log(F.props.auth);const n=N({patient_name:"",result_type:"",file:null}),g=f(!1),u=f("all"),x=f(""),a=f(null),S=[{name:"total uploads",count:156,icon:"ðŸ“¤",color:"primaryLight"},{name:"pending reviews",count:12,icon:"â³",color:"primaryDark"},{name:"completed results",count:132,icon:"âœ…",color:"primaryDark"},{name:"total patients",count:89,icon:"ðŸ‘¥",color:"primaryDark"}];let b=[],m=b;const U=l=>{const e=l.target;e.files&&e.files[0]&&(n.file=e.files[0])},P=()=>{n.post("/clinic/results/upload",{onSuccess:()=>{n.reset(),g.value=!1}})},p=l=>{if(u.value=l,u.value!=="all"&&(m=b.filter(e=>e.status===u.value)),u.value==="all"&&(m=b),x.value){const e=x.value.toLowerCase();m=b.filter(s=>s.patient_name.toLowerCase().includes(e)||s.result_type.toLowerCase().includes(e)||s.file_name.toLowerCase().includes(e))}},v=l=>{window.open(l.file_path,"_blank")},R=l=>{a.value=l},k=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=l=>{switch(l){case"pdf":return"ðŸ“„";case"image":return"ðŸ–¼ï¸";case"csv":return"ðŸ“Š";default:return"ðŸ“"}},$=l=>{console.log(l)};return(l,e)=>(d(),r(w,null,[C(i(T),{title:"Clinic Dashboard"}),C(E,null,{default:z(()=>[t("div",G,[t("div",I,[e[29]||(e[29]=t("div",{class:"mb-6"},[t("h1",{class:"text-4xl font-bold text-gray-800"},"Dashboard"),t("p",{class:"text-gray-600 text-xl font-bold"},"Manage patient test results and uploads")],-1)),t("div",O,[t("div",X,[t("button",{onClick:e[0]||(e[0]=s=>g.value=!0),class:"px-6 py-5 text-xl font-bold text-white bg-primaryDark rounded-lg hover:shadow-lg hover:-translate-y-1 transition-all duration-150"}," + Upload New Result ")])]),t("div",J,[(d(),r(w,null,D(S,s=>t("div",{key:s.name,class:"p-6 bg-white shadow-md rounded-xl group hover:shadow-lg transition-all duration-150"},[t("div",Q,[t("div",null,[t("p",H,o(s.name),1),t("p",K,o(s.count),1)]),t("div",W,[t("span",Y,o(s.icon),1)])])])),64))]),t("div",Z,[t("div",tt,[e[15]||(e[15]=t("h2",{class:"mb-4 text-2xl font-bold text-gray-800"},"Patient Results",-1)),t("div",et,[t("div",st,[t("button",{onClick:e[1]||(e[1]=s=>p("all")),class:c([u.value==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 font-medium rounded-lg transition-colors"])}," All ",2),t("button",{onClick:e[2]||(e[2]=s=>p("pending")),class:c([u.value==="pending"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 font-medium rounded-lg transition-colors"])}," Pending ",2),t("button",{onClick:e[3]||(e[3]=s=>p("completed")),class:c([u.value==="completed"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 font-medium rounded-lg transition-colors"])}," Completed ",2),t("button",{onClick:e[4]||(e[4]=s=>p("reviewed")),class:c([u.value==="reviewed"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 font-medium rounded-lg transition-colors"])}," Reviewed ",2)]),t("div",lt,[y(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>x.value=s),type:"text",placeholder:"Search patient or result type...",class:"w-full px-4 py-2 pl-10 border placeholder:font-extrabold placeholder:text-md border-gray-300 rounded-lg md:w-80 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[_,x.value]]),e[14]||(e[14]=t("span",{class:"absolute text-gray-400 transform -translate-y-1/2 left-3 top-1/2"},"ðŸ”",-1))])])]),t("div",ot,[t("table",at,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-md font-extrabold tracking-wider text-left text-gray-700 uppercase"}," Patient"),t("th",{class:"px-4 py-3 text-md font-extrabold tracking-wider text-left text-gray-700 uppercase"}," Result Type"),t("th",{class:"px-4 py-3 text-md font-extrabold tracking-wider text-left text-gray-700 uppercase"}," File"),t("th",{class:"px-4 py-3 text-md font-extrabold tracking-wider text-left text-gray-700 uppercase"}," Upload Date"),t("th",{class:"px-4 py-3 text-md font-extrabold tracking-wider text-left text-gray-700 uppercase"}," Status"),t("th",{class:"px-4 py-3 text-md font-extrabold tracking-wider text-left text-gray-700 uppercase"}," Actions")])],-1)),t("tbody",nt,[(d(!0),r(w,null,D(i(m),s=>(d(),r("tr",{key:s.id,class:"transition-colors hover:bg-gray-50"},[t("td",rt,o(s.patient_name),1),t("td",it,o(s.result_type),1),t("td",dt,[t("span",ut,[t("span",null,o(V(s.file_type)),1),t("span",pt,o(s.file_name),1)])]),t("td",ct,o(k(s.upload_date)),1),t("td",gt,[t("span",{class:c([{"bg-orange-100 text-orange-800":s.status==="pending","bg-green-100 text-green-800":s.status==="completed","bg-purple-100 text-purple-800":s.status==="reviewed"},"px-3 py-1 text-xs font-semibold rounded-full"])},o(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)]),t("td",xt,[t("div",bt,[t("button",{onClick:j=>R(s),class:"px-3 py-1 text-xs font-medium text-blue-700 transition-colors bg-blue-100 rounded hover:bg-blue-200"}," View ",8,mt),t("button",{onClick:j=>v(s),class:"px-3 py-1 text-xs font-medium text-green-700 transition-colors bg-green-100 rounded hover:bg-green-200"}," Download ",8,ft)])])]))),128)),p.length===0?(d(),r("tr",yt,[...e[16]||(e[16]=[t("td",{colspan:"6",class:"px-4 py-8 text-center text-gray-500"}," No results found ",-1)])])):h("",!0)])])])]),g.value?(d(),r("div",vt,[t("div",ht,[e[24]||(e[24]=t("h3",{class:"mb-4 text-2xl font-bold text-gray-800"},"Upload Patient Result",-1)),t("form",{onSubmit:A(P,["prevent"]),class:"space-y-4"},[t("div",null,[e[18]||(e[18]=t("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Patient Name",-1)),y(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>i(n).patient_name=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter patient name"},null,512),[[_,i(n).patient_name]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Patient Email",-1)),y(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>i(n).patient_name=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter patient name"},null,512),[[_,i(n).patient_name]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"Result Type",-1)),y(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>i(n).result_type=s),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...e[20]||(e[20]=[t("option",{class:"font-chillax-bold",value:""},"Select result type ",-1),t("option",{value:"Blood Test"},"Blood Test",-1),t("option",{value:"X-Ray"},"X-Ray",-1),t("option",{value:"MRI"},"MRI",-1),t("option",{value:"CT Scan"},"CT Scan",-1),t("option",{value:"Lab Analysis"},"Lab Analysis",-1),t("option",{value:"Other"},"Other",-1)])],512),[[B,i(n).result_type]])]),t("div",wt,[t("label",_t,[e[22]||(e[22]=t("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[t("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})]),t("p",{class:"mb-2 text-lg text-gray-500 dark:text-gray-400"},[t("span",{class:"font-bold"},"Click to upload"),q(" or drag and drop ")]),t("p",{class:"text-md text-gray-500 dark:text-gray-400"},"SVG, PNG, JPG or GIF (MAX. 800x400px)")],-1)),t("input",{id:"dropzone-file",type:"file",onDragenter:U,onDrop:e[9]||(e[9]=s=>console.log("drop")),onChange:$,class:"hidden"},null,32)])]),t("div",kt,[e[23]||(e[23]=t("div",{class:"flex items-center gap-3 w-1/2 pt-4"},[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),t("span",null,"Click to upload and send result")],-1)),t("div",Ct,[t("button",{type:"submit",disabled:i(n).processing,class:"flex-1 hover:-translate-y-1 duration-150 px-4 py-2 font-semibold text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-400"},o(i(n).processing?"Uploading...":"Upload"),9,Dt),t("button",{type:"button",onClick:e[10]||(e[10]=s=>g.value=!1),class:"flex-1 px-4 py-2 font-semibold text-gray-700 transition-all hover:-translate-y-1 duration-150 bg-gray-200 rounded-lg hover:bg-gray-300"}," Cancel ")])])],32)])])):h("",!0),a.value?(d(),r("div",Ft,[t("div",St,[t("div",Ut,[t("h3",Pt,o(a.value.patient_name)+" - "+o(a.value.result_type),1),t("button",{onClick:e[11]||(e[11]=s=>a.value=null),class:"px-4 py-2 text-gray-700 transition-colors bg-gray-200 rounded-lg hover:bg-gray-300"}," Close ")]),t("div",Rt,[t("p",Vt,"File: "+o(a.value.file_name),1),t("p",$t,"Uploaded: "+o(k(a.value.upload_date)),1)]),t("div",jt,[a.value.file_type==="pdf"?(d(),r("div",Lt,[e[25]||(e[25]=t("span",{class:"text-6xl"},"ðŸ“„",-1)),e[26]||(e[26]=t("p",{class:"mt-4 text-gray-600"},"PDF Preview",-1)),t("button",{onClick:e[12]||(e[12]=s=>v(a.value)),class:"px-4 py-2 mt-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Open PDF ")])):a.value.file_type==="image"?(d(),r("div",Mt,[t("img",{src:a.value.file_path,alt:"Result preview",class:"max-w-full max-h-96"},null,8,Nt)])):(d(),r("div",Tt,[e[27]||(e[27]=t("span",{class:"text-6xl"},"ðŸ“Š",-1)),e[28]||(e[28]=t("p",{class:"mt-4 text-gray-600"},"CSV Data File",-1)),t("button",{onClick:e[13]||(e[13]=s=>v(a.value)),class:"px-4 py-2 mt-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Download CSV ")]))])])])):h("",!0)])])]),_:1})],64))}});export{Jt as default};
