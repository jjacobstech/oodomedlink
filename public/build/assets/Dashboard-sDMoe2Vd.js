import{d as T,r as p,c as h,u as w,a as r,b as C,e as E,h as F,w as B,f as t,g,n,o as d,t as l,i as _,v as k,F as y,j as f}from"./app-D2V0QdeW.js";import{_ as V}from"./AdminAuthenticatedLayout.vue_vue_type_script_setup_true_lang-CXAHhs8t.js";import"./index-UBeE2Aye.js";import"./x-DVayrmzf.js";import"./index-CHKb_DJ8.js";import"./ApplicationLogo.vue_vue_type_script_setup_true_lang-BRc7ZUHv.js";import"./Wind-LiKkUfSx-CKihqZMt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"flex w-full h-screen gap-1 overflow-hidden bg-gray-100"},M={class:"w-full overflow-y-auto p-6"},q={class:"mb-6 flex gap-2 overflow-x-auto"},z={key:0},I={class:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4"},G={class:"rounded-xl bg-white p-6 shadow-sm transition-shadow hover:shadow-md"},O={class:"flex items-center justify-between"},Q={class:"mt-2 text-3xl font-bold text-blue-600"},H={class:"mt-1 text-xs text-green-600"},J={class:"rounded-xl bg-white p-6 shadow-sm transition-shadow hover:shadow-md"},K={class:"flex items-center justify-between"},W={class:"mt-2 text-3xl font-bold text-green-600"},X={class:"rounded-xl bg-white p-6 shadow-sm transition-shadow hover:shadow-md"},Y={class:"flex items-center justify-between"},Z={class:"mt-2 text-3xl font-bold text-purple-600"},tt={class:"mt-1 text-xs text-orange-600"},et={class:"rounded-xl bg-white p-6 shadow-sm transition-shadow hover:shadow-md"},st={class:"flex items-center justify-between"},lt={class:"mt-2 text-3xl font-bold text-indigo-600"},ot={class:"mt-1 text-xs text-red-600"},at={key:1},it={class:"rounded-xl bg-white p-6 shadow-sm"},nt={class:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},rt={class:"flex gap-2"},dt={class:"overflow-x-auto"},xt={class:"w-full"},pt={class:"divide-y divide-gray-200 bg-white"},ut={class:"px-4 py-4 text-sm font-medium text-gray-900"},ct={class:"px-4 py-4 text-sm text-gray-700"},gt={class:"px-4 py-4 text-sm text-gray-700"},yt={class:"px-4 py-4 text-sm text-gray-700"},mt={class:"px-4 py-4 text-sm"},ft={key:2},bt={class:"rounded-xl bg-white p-6 shadow-sm"},vt={class:"mb-6"},ht={class:"overflow-x-auto"},wt={class:"w-full"},_t={class:"divide-y divide-gray-200 bg-white"},kt={class:"px-4 py-4 text-sm text-gray-700"},Ct={class:"px-4 py-4 text-sm text-gray-700"},St={class:"px-4 py-4 text-sm text-gray-700"},At={class:"px-4 py-4 text-sm text-gray-700"},Lt={class:"capitalize"},jt={class:"px-4 py-4 text-sm text-gray-700"},Pt={class:"px-4 py-4 text-sm text-gray-700"},$t={key:3},Nt={class:"rounded-xl bg-white p-6 shadow-sm"},Dt={class:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},Rt={class:"flex gap-2"},Tt={class:"overflow-x-auto"},Et={class:"w-full"},Ft={class:"divide-y divide-gray-200 bg-white"},Bt={class:"px-4 py-4 text-sm font-medium text-gray-900"},Vt={class:"px-4 py-4 text-sm text-gray-700"},Ut={class:"px-4 py-4 text-sm text-gray-700"},Mt={class:"px-4 py-4 text-sm text-gray-700"},qt={class:"probab"},zt={class:"px-4 py-4 text-sm"},It={class:"px-4 py-4 text-sm text-gray-700"},Gt={key:4},Ot={class:"rounded-xl bg-white p-6 shadow-sm"},Qt={class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4"},Ht={class:"rounded-lg bg-green-50 p-4"},Jt={class:"mt-1 text-2xl font-bold text-green-600"},Kt={class:"rounded-lg bg-yellow-50 p-4"},Wt={class:"mt-1 text-2xl font-bold text-yellow-600"},Xt={class:"rounded-lg bg-red-50 p-4"},Yt={class:"mt-1 text-2xl font-bold text-red-600"},Zt={class:"rounded-lg bg-orange-50 p-4"},te={class:"mt-1 text-2xl font-bold text-orange-600"},ee={class:"overflow-x-auto"},se={class:"w-full"},le={class:"divide-y divide-gray-200 bg-white"},oe={class:"px-4 py-4 text-sm font-medium text-gray-900"},ae={class:"px-4 py-4 text-sm text-gray-700"},ie={class:"px-4 py-4 text-sm text-gray-700"},ne={class:"px-4 py-4 text-sm"},re={class:"px-4 py-4 text-sm text-gray-700"},de={class:"px-4 py-4 text-sm text-gray-700"},xe={key:5},pe={class:"rounded-xl h-full bg-white p-6 shadow-sm"},ue={class:"overflow-x-auto"},ce={class:"w-full"},ge={class:"divide-y divide-gray-200 bg-white"},ye={class:"px-4 py-4 text-sm font-medium text-gray-900"},me={class:"px-4 py-4 text-sm text-gray-700"},fe={class:"px-4 py-4 text-sm text-gray-700"},be={class:"px-4 py-4 text-sm"},ve={class:"px-4 py-4 text-sm"},he={class:"px-4 py-4 text-sm text-gray-700"},Pe=T({__name:"Dashboard",props:{clinics:{},patients:{},results:{},emails:{},admins:{},stats:{}},setup(S){const u=S;console.log(u);const a=p("overview");p(!1),p("clinic"),p(null);const x=p(""),i=p("all"),c=h(()=>u.stats),A=p(u.clinics),L=p(u.patients),j=p(u.results),m=p(u.emails),P=p(u.admins);w({name:"",email:"",phone_no:"",address:"",state:"",country:"",password:"",staff_no:""}),w({patient_id:"",full_name:"",email:"",phone_no:"",date_of_birth:"",gender:"male",address:""}),w({name:"",email:"",phone_no:"",password:"",role:"admin"});const $=h(()=>{let o=A.value;if(i.value!=="all"&&(o=o?.filter(e=>e.status===i.value)),x.value){const e=x.value.toLowerCase();o=o?.filter(s=>s.name.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.state.toLowerCase().includes(e))}return o}),N=h(()=>{let o=L.value;if(x.value){const e=x.value.toLowerCase();o=o?.filter(s=>s.full_name.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.id.toLowerCase().includes(e))}return o}),D=h(()=>{let o=j.value;if(i.value!=="all"&&(o=o?.filter(e=>e.status===i.value)),x.value){const e=x.value.toLowerCase();o=o?.filter(s=>s.test_name.toLowerCase().includes(e)||s.result_type.toLowerCase().includes(e))}return o}),b=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=o=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",suspended:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",processed:"bg-blue-100 text-blue-800",sent:"bg-green-100 text-green-800",archived:"bg-purple-100 text-purple-800",failed:"bg-red-100 text-red-800",bounced:"bg-orange-100 text-orange-800"})[o]||"bg-gray-100 text-gray-800";return(o,e)=>(d(),r(y,null,[C(E(F),{title:"Admin Panel"}),C(V,null,{default:B(()=>[t("div",U,[t("div",M,[e[38]||(e[38]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-900"}," Admin Panel "),t("p",{class:"text-gray-600"}," Manage clinics, patients, results, and system administrators ")],-1)),t("div",q,[t("button",{onClick:e[0]||(e[0]=s=>a.value="overview"),class:n([a.value==="overview"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50","whitespace-nowrap rounded-lg px-6 py-3 font-medium transition-colors"])}," ðŸ“Š Overview ",2),t("button",{onClick:e[1]||(e[1]=s=>a.value="clinics"),class:n([a.value==="clinics"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50","whitespace-nowrap rounded-lg px-6 py-3 font-medium transition-colors"])}," ðŸ¥ Clinics ",2),t("button",{onClick:e[2]||(e[2]=s=>a.value="patients"),class:n([a.value==="patients"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50","whitespace-nowrap rounded-lg px-6 py-3 font-medium transition-colors"])}," ðŸ‘¥ Patients ",2),t("button",{onClick:e[3]||(e[3]=s=>a.value="results"),class:n([a.value==="results"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50","whitespace-nowrap rounded-lg px-6 py-3 font-medium transition-colors"])}," ðŸ“‹ Results ",2),t("button",{onClick:e[4]||(e[4]=s=>a.value="emails"),class:n([a.value==="emails"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50","whitespace-nowrap rounded-lg px-6 py-3 font-medium transition-colors"])}," ðŸ“§ Email Logs ",2),t("button",{onClick:e[5]||(e[5]=s=>a.value="admins"),class:n([a.value==="admins"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50","whitespace-nowrap rounded-lg px-6 py-3 font-medium transition-colors"])}," ðŸ‘¤ Admins ",2)]),a.value==="overview"?(d(),r("div",z,[t("div",I,[t("div",G,[t("div",O,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Clinics ",-1)),t("p",Q,l(c.value?.totalClinics),1),t("p",H,l(c.value?.activeClinics)+" active ",1)]),e[17]||(e[17]=t("div",{class:"rounded-full bg-blue-100 p-3"},[t("span",{class:"text-3xl"},"ðŸ¥")],-1))])]),t("div",J,[t("div",K,[t("div",null,[e[18]||(e[18]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Patients ",-1)),t("p",W,l(c.value?.totalPatients),1)]),e[19]||(e[19]=t("div",{class:"rounded-full bg-green-100 p-3"},[t("span",{class:"text-3xl"},"ðŸ‘¥")],-1))])]),t("div",X,[t("div",Y,[t("div",null,[e[20]||(e[20]=t("p",{class:"text-sm font-medium text-gray-600"}," Test Results ",-1)),t("p",Z,l(c.value?.totalResults),1),t("p",tt,l(c.value?.pendingResults)+" pending ",1)]),e[21]||(e[21]=t("div",{class:"rounded-full bg-purple-100 p-3"},[t("span",{class:"text-3xl"},"ðŸ“‹")],-1))])]),t("div",et,[t("div",st,[t("div",null,[e[22]||(e[22]=t("p",{class:"text-sm font-medium text-gray-600"}," Email Delivery ",-1)),t("p",lt,l(u?.stats?.totalEmails),1),t("p",ot,l(c.value?.emailsFailed)+" failed ",1)]),e[23]||(e[23]=t("div",{class:"rounded-full bg-indigo-100 p-3"},[t("span",{class:"text-3xl"},"ðŸ“§")],-1))])])])])):g("",!0),a.value==="clinics"?(d(),r("div",at,[t("div",it,[e[25]||(e[25]=t("div",{class:"mb-6 flex items-center justify-between"},[t("h2",{class:"text-xl font-bold text-gray-900"}," Manage Clinics ")],-1)),t("div",nt,[t("div",rt,[t("button",{onClick:e[6]||(e[6]=s=>i.value="all"),class:n([i.value==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," All ",2),t("button",{onClick:e[7]||(e[7]=s=>i.value="active"),class:n([i.value==="active"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Active ",2),t("button",{onClick:e[8]||(e[8]=s=>i.value="inactive"),class:n([i.value==="inactive"?"bg-red-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Inactive ",2)]),_(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>x.value=s),type:"text",placeholder:"Search clinics...",class:"rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500"},null,512),[[k,x.value]])]),t("div",dt,[t("table",xt,[e[24]||(e[24]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Clinic Name "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Email "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Phone "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Location "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Status ")])],-1)),t("tbody",pt,[(d(!0),r(y,null,f($.value,s=>(d(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",ut,l(s.name),1),t("td",ct,l(s.email),1),t("td",gt,l(s.phone_no),1),t("td",yt,l(s.state)+", "+l(s.country),1),t("td",mt,[t("span",{class:n([v(s.status),"rounded-full px-3 py-1 text-xs font-semibold"])},l(s.status),3)])]))),128))])])])])])):g("",!0),a.value==="patients"?(d(),r("div",ft,[t("div",bt,[e[27]||(e[27]=t("div",{class:"mb-6 flex items-center justify-between"},[t("h2",{class:"text-xl font-bold text-gray-900"}," Manage Patients ")],-1)),t("div",vt,[_(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>x.value=s),type:"text",placeholder:"Search patients by name, email, or ID...",class:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-green-500"},null,512),[[k,x.value]])]),t("div",ht,[t("table",wt,[e[26]||(e[26]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Full Name "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Email "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Phone "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Gender "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Date of Birth "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Address ")])],-1)),t("tbody",_t,[(d(!0),r(y,null,f(N.value,s=>(d(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",kt,l(s.full_name),1),t("td",Ct,l(s.email),1),t("td",St,l(s.phone_no??"N/A"),1),t("td",At,[t("span",Lt,l(s.gender??"N/A"),1)]),t("td",jt,l(s.date_of_birth??"N/A"),1),t("td",Pt,l(s.date_of_birth??"N/A"),1)]))),128))])])])])])):g("",!0),a.value==="results"?(d(),r("div",$t,[t("div",Nt,[e[29]||(e[29]=t("div",{class:"mb-6 flex items-center justify-between"},[t("h2",{class:"text-xl font-bold text-gray-900"}," Patient Results ")],-1)),t("div",Dt,[t("div",Rt,[t("button",{onClick:e[11]||(e[11]=s=>i.value="all"),class:n([i.value==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," All ",2),t("button",{onClick:e[12]||(e[12]=s=>i.value="pending"),class:n([i.value==="pending"?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Pending ",2),t("button",{onClick:e[13]||(e[13]=s=>i.value="processed"),class:n([i.value==="processed"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Processed ",2),t("button",{onClick:e[14]||(e[14]=s=>i.value="sent"),class:n([i.value==="sent"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","rounded-lg px-4 py-2 font-medium transition-colors"])}," Sent ",2)]),_(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>x.value=s),type:"text",placeholder:"Search results...",class:"rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500"},null,512),[[k,x.value]])]),t("div",Tt,[t("table",Et,[e[28]||(e[28]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Test Name "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Result Type "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Test Date "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," File Type "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Status "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Uploaded ")])],-1)),t("tbody",Ft,[(d(!0),r(y,null,f(D.value,s=>(d(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Bt,l(s.test_name),1),t("td",Vt,l(s.result_type),1),t("td",Ut,l(b(s.test_date)),1),t("td",Mt,[t("span",qt,l(s.files.map(R=>R.file_type).join(", ")||"N/A"),1)]),t("td",zt,[t("span",{class:n([v(s.status),"rounded-full px-3 py-1 text-xs font-semibold"])},l(s.status),3)]),t("td",It,l(b(s.uploaded_at)),1)]))),128))])])])])])):g("",!0),a.value==="emails"?(d(),r("div",Gt,[t("div",Ot,[e[35]||(e[35]=t("div",{class:"mb-6 flex items-center justify-between"},[t("h2",{class:"text-xl font-bold text-gray-900"}," Email Delivery Logs ")],-1)),t("div",Qt,[t("div",Ht,[e[30]||(e[30]=t("p",{class:"text-sm font-medium text-gray-600"}," Sent Successfully ",-1)),t("p",Jt,l(m.value?.filter(s=>s.status==="sent").length),1)]),t("div",Kt,[e[31]||(e[31]=t("p",{class:"text-sm font-medium text-gray-600"}," Pending ",-1)),t("p",Wt,l(m.value?.filter(s=>s.status==="pending").length),1)]),t("div",Xt,[e[32]||(e[32]=t("p",{class:"text-sm font-medium text-gray-600"}," Failed ",-1)),t("p",Yt,l(m.value?.filter(s=>s.status==="failed").length),1)]),t("div",Zt,[e[33]||(e[33]=t("p",{class:"text-sm font-medium text-gray-600"}," Bounced ",-1)),t("p",te,l(m.value?.filter(s=>s.status==="bounced").length),1)])]),t("div",ee,[t("table",se,[e[34]||(e[34]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Recipient "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Subject "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Sent By "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Status "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Attempts "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Sent At ")])],-1)),t("tbody",le,[(d(!0),r(y,null,f(m.value,s=>(d(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",oe,l(s.patient_email),1),t("td",ae,l(s.subject),1),t("td",ie,l(s.sent_by),1),t("td",ne,[t("span",{class:n([v(s.status),"rounded-full px-3 py-1 text-xs font-semibold"])},l(s.status),3)]),t("td",re,l(s.delivery_attempts),1),t("td",de,l(b(s.sent_at)),1)]))),128))])])])])])):g("",!0),a.value==="admins"?(d(),r("div",xe,[t("div",pe,[e[37]||(e[37]=t("div",{class:"mb-6 flex items-center justify-between"},[t("h2",{class:"text-xl font-bold text-gray-900"}," System Administrators ")],-1)),t("div",ue,[t("table",ce,[e[36]||(e[36]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Name "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Email "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Phone "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Role "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Status "),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700"}," Created ")])],-1)),t("tbody",ge,[(d(!0),r(y,null,f(P.value,s=>(d(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",ye,l(s.name),1),t("td",me,l(s.email),1),t("td",fe,l(s.phone_no),1),t("td",be,[t("span",{class:n([s.role==="super_admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800","rounded-full px-3 py-1 text-xs font-semibold"])},l(s.role==="super_admin"?"Super Admin":"Admin"),3)]),t("td",ve,[t("span",{class:n([v(s.status),"rounded-full px-3 py-1 text-xs font-semibold"])},l(s.status),3)]),t("td",he,l(b(s.created_at)),1)]))),128))])])])])])):g("",!0)])])]),_:1})],64))}});export{Pe as default};
